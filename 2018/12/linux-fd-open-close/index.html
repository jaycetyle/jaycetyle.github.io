<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <meta property="og:url" content="https://blog.jaycetyle.com/2018/12/linux-fd-open-close/">
  <meta property="og:site_name" content="Jayce çš„å…±äº«è¨˜æ†¶é«”">
  <meta property="og:title" content="Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - fd åŠ open()ã€close() ç³»çµ±å‘¼å«">
  <meta property="og:description" content="é–‹å§‹æ¥è§¸ Linux Kernel ä¹Ÿæœ‰å·®ä¸å¤šä¸€å¹´çš„æ™‚é–“ï¼Œæœ€è¿‘é–‹å§‹æœ‰æ˜é¡¯åœ°æ„Ÿè¦ºåˆ°æœ‰æŸç¨®ç“¶é ¸å­˜åœ¨ï¼Œä»”ç´°æ€è€ƒäº†ä¸€ä¸‹è¦ºå¾—æ˜¯åº•å­ä¸å¤ ï¼Œæ‰€ä»¥æ±ºå®šå¾åŸºç¤ä¾†å¥½å¥½å­¸ç¿’ä¸€ä¸‹ï¼Œå†æ­é…æ ¸å¿ƒç¨‹å¼ç¢¼ä¾†ç¢ºèªæ˜¯å¦æ˜¯çœ‹åˆ°çš„é‚£æ¨£ã€‚é€™ç¯‡ä¸»è¦ç­†è¨˜ file descriptorã€open() åŠ close() ç³»çµ±å‘¼å«ç›¸é—œçš„éƒ¨ã€‚">
  <meta property="og:locale" content="zh_tw">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2018-12-30T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-04-02T00:00:00+00:00">
    <meta property="article:tag" content="C/C&#43;&#43;">
    <meta property="article:tag" content="Linux Kernel">

        
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - fd åŠ open()ã€close() ç³»çµ±å‘¼å«">
  <meta name="twitter:description" content="é–‹å§‹æ¥è§¸ Linux Kernel ä¹Ÿæœ‰å·®ä¸å¤šä¸€å¹´çš„æ™‚é–“ï¼Œæœ€è¿‘é–‹å§‹æœ‰æ˜é¡¯åœ°æ„Ÿè¦ºåˆ°æœ‰æŸç¨®ç“¶é ¸å­˜åœ¨ï¼Œä»”ç´°æ€è€ƒäº†ä¸€ä¸‹è¦ºå¾—æ˜¯åº•å­ä¸å¤ ï¼Œæ‰€ä»¥æ±ºå®šå¾åŸºç¤ä¾†å¥½å¥½å­¸ç¿’ä¸€ä¸‹ï¼Œå†æ­é…æ ¸å¿ƒç¨‹å¼ç¢¼ä¾†ç¢ºèªæ˜¯å¦æ˜¯çœ‹åˆ°çš„é‚£æ¨£ã€‚é€™ç¯‡ä¸»è¦ç­†è¨˜ file descriptorã€open() åŠ close() ç³»çµ±å‘¼å«ç›¸é—œçš„éƒ¨ã€‚">


        <title>
  Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - fd åŠ open()ã€close() ç³»çµ±å‘¼å« | Jayce çš„å…±äº«è¨˜æ†¶é«”
</title>

        

<link rel="shortcut icon" href="/images/favicon.ico">

<link rel="shortcut icon" href="/images/favicon.png">

<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">


        <link href="https://fonts.googleapis.com/css?family=Oswald:400" rel="stylesheet">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">      
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

        
        
        
        
        
        <link rel="stylesheet" href="https://blog.jaycetyle.com/css/styles.min.6a7e3e1c24ad4b4b16f344cfc54f4b5a4e92f35366ada3879f0176264c5f99b9.css" integrity="sha256-an4&#43;HCStS0sW80TPxU9LWk6S81NmraOHnwF2Jkxfmbk=">
        
        
        <link id="theme-style" rel="stylesheet" href="">

        
        <script>
            window.themeUrls = {
            light: "\/css\/light.min.0d91bc92b83a6a8aac989d53ce618ea99f98702fd931a07d8219dd7c3ae030eb.css",
            dark: "\/css\/dark.min.b2aa340dd145dc915676610bb68b02055a3a8bc8361406c8c9e50006ec5bc7be.css"
            };
        </script>
        
  <link rel="me" type="text/html" href="https://www.linkedin.com/in/chieh-lin-569430a9/"/>


<link rel="shortcut icon" href="/images/favicon.ico">

<link rel="shortcut icon" href="/images/favicon.png">

<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">


<link rel="alternate" type="application/rss+xml" href='https://blog.jaycetyle.com/index.xml' />

<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta name="author" content="" />
<meta name="copyright" content="" />


<meta name="description" content="é–‹å§‹æ¥è§¸ Linux Kernel ä¹Ÿæœ‰å·®ä¸å¤šä¸€å¹´çš„æ™‚é–“ï¼Œæœ€è¿‘é–‹å§‹æœ‰æ˜é¡¯åœ°æ„Ÿè¦ºåˆ°æœ‰æŸç¨®ç“¶é ¸å­˜åœ¨ï¼Œä»”ç´°æ€è€ƒäº†ä¸€ä¸‹è¦ºå¾—æ˜¯åº•å­ä¸å¤ ï¼Œæ‰€ä»¥æ±ºå®šå¾åŸºç¤ä¾†å¥½å¥½å­¸ç¿’ä¸€ä¸‹ï¼Œå†æ­é…æ ¸å¿ƒç¨‹å¼ç¢¼ä¾†ç¢ºèªæ˜¯å¦æ˜¯çœ‹åˆ°çš„é‚£æ¨£ã€‚é€™ç¯‡ä¸»è¦ç­†è¨˜ file descriptorã€open() åŠ close() ç³»çµ±å‘¼å«ç›¸é—œçš„éƒ¨ã€‚">

  <style type="text/css">
  .feature-image {
    background-image: linear-gradient(
      rgba(0, 0, 0, 0.15),
      rgba(0, 0, 0, 0.15)
    ), url('https://blog.jaycetyle.com/images/banner.jpg');
    height: 400px;
    background-repeat:no-repeat;
    background-size:cover;
    background-position: center;
  }
  .feature-image-text {
    margin-top: 20px;
  }

  @media (max-width: 1024px) {
    .feature-image {
      height: 300px;
    }
  }

  @media (max-width: 768px) {
    .feature-image {
      height: 250px;
    }
  }

  @media (max-width: 520px) {
    .feature-image {
      display: none;
    }
  }
</style>




    </head>
    <body>
        <nav class="navbar fixed-top navbar-expand-md navbar-primary bg-primary py-1 top-nav">
            <div class="container">
                    <a href="https://blog.jaycetyle.com/"><img class="logo" src="https://blog.jaycetyle.com//images/logo.png"></a>
<a class="navbar-brand pr-4 d-none d-sm-block" href="https://blog.jaycetyle.com/">Jayce&#39;s Shared Memory</a>
                <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fas fa-bars" style="color:black"></i>
                </button>
                <div class="navbar-collapse collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
    <a class="nav-link active" href="https://blog.jaycetyle.com/">Home</a>
</li>
<li class="nav-item">
    <a class="nav-link active" href="https://blog.jaycetyle.com/archive/">Archive</a>
</li>
<li class="nav-item">
    <a class="nav-link active" href="https://github.com/jaycetyle">Github</a>
</li>
<li class="nav-item">
    <a class="nav-link active" href="https://blog.jaycetyle.com/about/">About</a>
</li>
<button id="theme-toggle" style="background: transparent; border: none; color: inherit; cursor: pointer;">
    ğŸŒ™
</button>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const themeLink = document.getElementById("theme-style");
        const toggleBtn = document.getElementById("theme-toggle");

        function getPreferredTheme() {
            return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
        }

        function setTheme(theme) {
            themeLink.href = window.themeUrls[theme];
            toggleBtn.textContent = theme === "dark" ? "â˜€ï¸" : "ğŸŒ™";
        }

        let currentTheme = getPreferredTheme();
        setTheme(currentTheme);

        toggleBtn.addEventListener("click", function () {
            currentTheme = currentTheme === "dark" ? "light" : "dark";
            setTheme(currentTheme);
        });
    });
</script>
                    </ul>
                </div>
            </div>
        </nav>

        
  <header class="feature-image">
  <div class="feature-image-text white-shadow-text">
    <h1 class="font-weight:bold">Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - fd åŠ open()ã€close() ç³»çµ±å‘¼å«</h1>
  </div>
</header>


        <div class="container main my-4">
            
  <div class="post p-3 p-sm-5">
    <h3 class="post-title">Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - fd åŠ open()ã€close() ç³»çµ±å‘¼å«</h3>
    <div class="mt-2 mb-3">
    <small>
        <strong>By Lin Chieh (Jayce)</strong>
        | <i class="far fa-calendar-alt"></i>&nbsp;Dec 30, 2018&nbsp;
        | <i class="fa fa-tags" title="Tags" aria-hidden="true"></i> <a href='/tags/c/c&#43;&#43;/'>C/C&#43;&#43;</a>, <a href='/tags/linux-kernel/'>Linux Kernel</a>
    </small>
</div>

    <div class="mt-4 mb-4 main-content">
      <p>ã€€ã€€é–‹å§‹æ¥è§¸ Linux Kernel ä¹Ÿæœ‰å·®ä¸å¤šä¸€å¹´çš„æ™‚é–“ï¼Œæœ€è¿‘é–‹å§‹æœ‰æ˜é¡¯åœ°æ„Ÿè¦ºåˆ°æœ‰æŸç¨®ç“¶é ¸å­˜åœ¨ï¼Œä»”ç´°æ€è€ƒäº†ä¸€ä¸‹è¦ºå¾—æ˜¯åº•å­ä¸å¤ ï¼Œæ‰€ä»¥æ±ºå®šå¾åŸºç¤ä¾†å¥½å¥½å­¸ç¿’ä¸€ä¸‹ï¼Œå†æ­é…æ ¸å¿ƒç¨‹å¼ç¢¼ä¾†ç¢ºèªæ˜¯å¦æ˜¯çœ‹åˆ°çš„é‚£æ¨£ã€‚é€™ç¯‡ä¸»è¦ç­†è¨˜ file descriptorã€open() åŠ close() ç³»çµ±å‘¼å«ç›¸é—œçš„éƒ¨åˆ†ï¼Œä¸»è¦åƒè€ƒ <a href="https://www.tenlong.com.tw/products/9789862769812">Robert Love çš„ Linux System Programming</a>ã€‚</p>
<h2 id="file-descriptor">File Descriptor</h2>
<p>ã€€ã€€æª”æ¡ˆå¿…é ˆå…ˆé–‹å•Ÿå¾Œæ‰èƒ½é€²è¡Œè®€å¯«æ“ä½œï¼Œé–‹å•Ÿæª”æ¡ˆå¾Œæœƒå›å‚³ä¸€å€‹ File Descriptor (æª”æ¡ˆæè¿°å™¨ã€ç°¡ç¨± fd)ï¼Œä¹‹å¾Œçš„æ‰€æœ‰æ“ä½œéƒ½æœƒéœ€è¦ fd ä½œç‚ºåƒæ•¸ã€‚é™¤éæ¯å€‹è¡Œç¨‹æ˜ç¢ºå°‡å…¶é—œé–‰ï¼Œå¦å‰‡è¡Œç¨‹è‡³å°‘æœƒé–‹å•Ÿ 3 å€‹ fdï¼Œåˆ†åˆ¥æ˜¯ stdin(0), stdout(1) åŠ stderr(2)ï¼Œå¯¦éš›ä½¿ç”¨é€™ä¸‰å€‹ fd æ™‚ä¸éœ€ç›´æ¥ç”¨ 0 ~ 2 æ•´æ•¸å€¼ï¼Œunistd.h æœ‰é å…ˆå®šç¾©å¥½çš„ STDIN_FILENO, STDOUT_FILENO åŠ STDERR_FILENOã€‚</p>
<p>ã€€ã€€æ ¸å¿ƒå…§éƒ¨æœƒæ›¿æ¯å€‹è¡Œç¨‹(task) ç¶­è­·ä¸€ä»½ file tableï¼Œæ”¾åœ¨ current-&gt;filesï¼Œç”¨ä¾†è¨˜éŒ„è¡Œç¨‹é–‹å•Ÿçš„ fdï¼Œå¯ä»¥åœ¨ linux/sched.h çš„ task_structä¸­æ‰¾åˆ°ä»–ã€‚é–‹æª”çš„ç³»çµ±å‘¼å«æœƒèª¿ç”¨ fs/open.c å…§çš„ do_sys_open()ï¼Œè£¡é¢å°±æœƒè¨»å†Š fd åˆ°è¡Œç¨‹çš„æª”æ¡ˆè¡¨ï¼Œåƒè€ƒä»¥ä¸‹çš„æ ¸å¿ƒç¨‹å¼ç¢¼ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#ee82ee">long</span> <span style="color:#ff0">do_sys_open</span>(<span style="color:#ee82ee">int</span> dfd, <span style="color:#f00">const</span> <span style="color:#ee82ee">char</span> __user *filename, <span style="color:#ee82ee">int</span> flags, <span style="color:#ee82ee">umode_t</span> mode)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#0f0">/* ç•¥... */</span>
</span></span><span style="display:flex;"><span>	<span style="color:#0f0">/// å¾ current-&gt;files è£¡é¢æ‰¾ä¸€å€‹é‚„æ²’æœ‰ç”¨åˆ°çš„ fd
</span></span></span><span style="display:flex;"><span><span style="color:#0f0"></span>	<span style="color:#0f0">/// current-&gt;files æ˜¯ä¸€å€‹ struct files_structï¼Œå®šç¾©æ–¼ linux/fdtable.h
</span></span></span><span style="display:flex;"><span><span style="color:#0f0"></span>	<span style="color:#0f0">/// files_struct è£¡é¢æœ‰ä¸€å€‹ struct fdtable __rcu *fdt å°±æ˜¯ file table äº†
</span></span></span><span style="display:flex;"><span><span style="color:#0f0"></span>	fd = <span style="color:#ff0">get_unused_fd_flags</span>(flags);
</span></span><span style="display:flex;"><span>	<span style="color:#f00">if</span> (fd &gt;= <span style="color:#f60">0</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#0f0">/// do_filp_open é€²å»ä»¥å¾Œå°±æœƒèª¿ç”¨åˆ° vfs_open è¦æ±‚æª”æ¡ˆç³»çµ±é€²è¡Œé–‹æª”
</span></span></span><span style="display:flex;"><span><span style="color:#0f0"></span>		<span style="color:#f00">struct</span> file *f = <span style="color:#ff0">do_filp_open</span>(dfd, tmp, &amp;op);
</span></span><span style="display:flex;"><span>		<span style="color:#f00">if</span> (<span style="color:#ff0">IS_ERR</span>(f)) {
</span></span><span style="display:flex;"><span>			<span style="color:#0f0">/// é–‹æª”å¤±æ•—ï¼ŒæŠŠ fd é‚„å›å»
</span></span></span><span style="display:flex;"><span><span style="color:#0f0"></span>			<span style="color:#ff0">put_unused_fd</span>(fd);
</span></span><span style="display:flex;"><span>			fd = <span style="color:#ff0">PTR_ERR</span>(f);
</span></span><span style="display:flex;"><span>		} <span style="color:#f00">else</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#0f0">/// notify æ©Ÿåˆ¶ï¼Œé€šçŸ¥æœ‰æª”æ¡ˆæ‰“é–‹äº†
</span></span></span><span style="display:flex;"><span><span style="color:#0f0"></span>			<span style="color:#0f0">/// å…¶ä»–çš„ notify ä¹Ÿå¯ä»¥åœ¨ vfs å±¤ä¸­æ‰¾åˆ°ï¼Œä»¥ fsnotify_ ä½œç‚ºå‡½æ•¸é–‹é ­
</span></span></span><span style="display:flex;"><span><span style="color:#0f0"></span>			<span style="color:#ff0">fsnotify_open</span>(f);
</span></span><span style="display:flex;"><span>			<span style="color:#0f0">/// å°‡ fd æ”¾åˆ° fdtable å…§çš„ fd array
</span></span></span><span style="display:flex;"><span><span style="color:#0f0"></span>			<span style="color:#ff0">fd_install</span>(fd, f);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#0f0">/* ç•¥... */</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f00">return</span> fd;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>ã€€ã€€è©³ç´°çµæ§‹å¯åƒè€ƒæ–‡æœ«çš„ files_struct çµæ§‹ä»‹ç´¹ã€‚å¦å¤–ï¼Œåœ¨é è¨­æƒ…æ³ä¸‹ï¼Œå­è¡Œç¨‹æœƒ<strong>è¤‡è£½</strong>çˆ¶è¡Œç¨‹çš„æª”æ¡ˆè¡¨ï¼Œä¾‹å¦‚é–‹å•Ÿçš„æª”æ¡ˆåŠå­˜å–æ¨¡å¼ç­‰ç­‰ï¼Œä½†è¡Œç¨‹ä¸­å°æª”æ¡ˆçš„æ“ä½œä¸æœƒå½±éŸ¿å…¶ä»–è¡Œç¨‹ï¼Œä¾‹å¦‚å­è¡Œç¨‹å°‡æª”æ¡ˆé—œé–‰å¾Œï¼Œä¸¦ä¸å½±éŸ¿çˆ¶è¡Œç¨‹çš„æª”æ¡ˆæ“ä½œã€‚</p>
<p>ã€€</p>
<h2 id="open-ç³»çµ±å‘¼å«">open() ç³»çµ±å‘¼å«</h2>
<p>ã€€ã€€å­˜å–æª”æ¡ˆçš„æ“ä½œéƒ½æœƒéœ€è¦ fdï¼Œè€Œ fd çš„å–å¾—æ˜¯é€é open() ç³»çµ±å‘¼å«ã€‚open() ç³»çµ±å‘¼å«æœ‰ä»¥ä¸‹å…©ç¨®å½¢å¼ï¼Œå…¶å›å‚³çš„ int è®Šæ•¸å°±æ˜¯ fdï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;sys/types.h&gt;</span><span style="color:#e5e5e5">
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;sys/stat.h&gt;</span><span style="color:#e5e5e5">
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;fcntl.h&gt;</span><span style="color:#e5e5e5">
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5"></span>
</span></span><span style="display:flex;"><span><span style="color:#ee82ee">int</span> <span style="color:#ff0">open</span>(<span style="color:#f00">const</span> <span style="color:#ee82ee">char</span> *name, <span style="color:#ee82ee">int</span> flags);
</span></span><span style="display:flex;"><span><span style="color:#ee82ee">int</span> <span style="color:#ff0">open</span>(<span style="color:#f00">const</span> <span style="color:#ee82ee">char</span> *name, <span style="color:#ee82ee">int</span> flags, <span style="color:#ee82ee">mode_t</span> mode);</span></span></code></pre></div>
<p>ã€€ã€€open() çš„ flags å¯ä»¥æ˜¯ä¸€å€‹æˆ–å¤šå€‹å€¼ OR çš„çµæœï¼Œç”¨ä»¥è¡¨ç¤ºé–‹å•Ÿè¦æ±‚çš„è¡Œç‚ºï¼Œä¸”å¿…é ˆåŒ…å« O_RDONLYã€O_WRONLY æˆ– O_RDWR ä¸‰è€…å…¶ä¸­ä¹‹ä¸€ï¼Œä½†å¦‚æœé–‹æª”çš„è¡Œç¨‹ä¸å…·å‚™å°æ‡‰çš„æ“ä½œæ¬Šé™ï¼Œç•¶ç„¶ä¹Ÿå°±ä¸èƒ½ä»¥è©²æ¨¡å¼é–‹å•Ÿæª”æ¡ˆã€‚</p>
<h4 id="å¿…è¦æ——æ¨™">å¿…è¦æ——æ¨™</h4>
<ul>
<li>O_RDONLY: ä»¥å”¯è®€æ¨¡å¼é–‹å•Ÿ</li>
<li>O_WRONLY: ä»¥å”¯å¯«æ¨¡å¼é–‹å•Ÿ</li>
<li>O_RDWR: ä»¥è®€å¯«æ¨¡å¼é–‹å•Ÿ</li>
</ul>
<h4 id="è¡Œç‚ºæ“ä½œæ——æ¨™">è¡Œç‚ºæ“ä½œæ——æ¨™</h4>
<ul>
<li>O_APPEND: ä»¥é™„åŠ æ¨¡å¼é–‹å•Ÿ
<ul>
<li>ä»¥é™„åŠ æ¨¡å¼é–‹å•Ÿçš„æª”æ¡ˆï¼Œå¯«å…¥æ“ä½œéƒ½æœƒå¾æª”æ¡ˆæœ«ç«¯é–‹å§‹ï¼Œå°±ç®—ç¬¬äºŒå€‹è¡Œç¨‹ä¹Ÿå°è©²æª”æ¡ˆé€²è¡Œå¯«å…¥å› è€Œæ”¹è®Šäº†æª”æ¡ˆæœ«ç«¯ä½ç½®</li>
<li>ä¾‹å¦‚å¤šå€‹è¡Œç¨‹è¦å°ç›¸åŒ log æª”é€²è¡Œå¯«å…¥çš„æ‡‰ç”¨æ™‚ï¼Œé€™å€‹æ¨¡å¼å°±æœƒç›¸ç•¶å¥½ç”¨ï¼Œå› ç‚ºå®ƒå¯ä»¥é¿å…å¤šå€‹å¯«å…¥è€…äº’ç›¸ç«¶çˆ­çš„æƒ…æ³</li>
</ul>
</li>
<li>O_CLOEXEC: åœ¨åŸ·è¡Œ execl å¾Œè‡ªå‹•é—œé–‰è©² fd
<ul>
<li>fork() å¾ŒåŸ·è¡Œ execl() æ˜¯å¸¸è¦‹çš„æ“ä½œï¼Œä¸é fork() çš„å­è¡Œç¨‹æœƒè¤‡è£½çˆ¶è¡Œç¨‹çš„ fd</li>
<li>execl() æ™‚é€šå¸¸éƒ½ä¸æƒ³ä¿ç•™ fdï¼Œè¨­ç«‹æ­¤ flags çš„ fd å¯ä»¥åœ¨åŸ·è¡Œ execl æ™‚è‡ªå‹•é—œé–‰</li>
</ul>
</li>
<li>O_NOATIME: é€²è¡Œ<em>è®€å–</em>æ“ä½œæ™‚ä¸æ›´æ–°æª”æ¡ˆçš„å­˜å–æ™‚é–“
<ul>
<li>å°æ–¼æª¢ç´¢ã€å‚™ä»½é¡æœƒç¶“å¸¸å¤§é‡è®€å–ç³»çµ±ä¸Šæ‰€æœ‰æª”æ¡ˆçš„ç¨‹å¼æœ‰å¾ˆå¤§çš„å¹«åŠ©ï¼Œå¯ä»¥æ¸›å°‘è®€å–å¾Œè¦æ›´æ–° inode é€ æˆçš„å¯«å…¥é‡</li>
</ul>
</li>
<li>O_TRUNC: è‹¥é–‹å•Ÿçš„æª”æ¡ˆå­˜åœ¨ä¸”æ˜¯ä¸€èˆ¬æª”æ¡ˆï¼Œé–‹å•Ÿå¾Œå°±å°‡å…¶æˆªçŸ­æˆé•·åº¦ç‚º 0
<ul>
<li>ä»¥ O_RDONLY | O_TRUNC é–‹å•Ÿæª”æ¡ˆæ˜¯æœªå®šç¾©è¡Œç‚º</li>
</ul>
</li>
</ul>
<h4 id="åŒæ­¥éåŒæ­¥æ——æ¨™">åŒæ­¥ã€éåŒæ­¥æ——æ¨™</h4>
<ul>
<li>O_SYNC: ä»¥ SYNC æ¨¡å¼é–‹å•Ÿæª”æ¡ˆ (ä¹‹å¾Œæœƒå†è£œå……åŒæ­¥ IO)</li>
<li>O_ASYNC: å¦‚æœæŒ‡å®šçš„æª”æ¡ˆè®Šæˆå¯è®€æˆ–å¯å¯«çš„ç‹€æ…‹ï¼Œå°±ç”¢ç”Ÿä¸€å€‹ Signal (é è¨­ç‚º SIGIO)
<ul>
<li>ç”¨æ–¼ Socketã€FIFOã€Terminal ç­‰éœ€è¦éåŒæ­¥æ“ä½œçš„æƒ…å¢ƒ</li>
<li>ä¸èƒ½ç”¨æ–¼ä¸€èˆ¬æª”æ¡ˆ</li>
<li>æ¯”è¼ƒå¸¸è¦‹çš„æ‡‰è©²æ˜¯ä½¿ç”¨ aio ç›¸é—œå‡½å¼åº«è€Œä¸æ˜¯ä½¿ç”¨ O_ASYNC æ¨¡å¼</li>
</ul>
</li>
<li>O_NONBLOCK: ä»¥ non-blocking IO æ¨¡å¼é–‹å•Ÿ
<ul>
<li>å° FIFO åš read() æ™‚ï¼Œå¦‚æœæ²’æœ‰è³‡æ–™å¯ä»¥è®€å–æ™‚ç«‹å³è¿”å›(ä¸é˜»æ“‹)</li>
<li>å› ç‚ºæ²’è³‡æ–™è€Œè¿”å›æ™‚æœƒå°‡ errno è¨­ç‚º EAGAIN</li>
</ul>
</li>
<li>O_DIRECT: ä»¥ Direct IO æ¨¡å¼é–‹å•Ÿæª”æ¡ˆ (ä¹‹å¾Œæœƒå†è£œå…… Direct IO)</li>
</ul>
<h4 id="å»ºæª”ç›¸é—œæ——æ¨™">å»ºæª”ç›¸é—œæ——æ¨™</h4>
<ul>
<li>O_CREAT: å¦‚æœæŒ‡å®šçš„æª”æ¡ˆä¸å­˜åœ¨ï¼Œå°±å»ºç«‹ä¸€å€‹</li>
<li>O_EXCL: æœ‰æŒ‡å®š O_CREAT æ™‚æ‰æœ‰æ•ˆã€‚å¦‚æœé–‹æª”æ™‚æª”æ¡ˆå·²ç¶“å­˜åœ¨ï¼Œå°±å›å‚³å¤±æ•—ï¼Œå¯ä»¥é¿å…å…©å€‹è¡Œç¨‹æƒ³åŒæ™‚å»ºæª”çš„ç«¶çˆ­æƒ…æ³</li>
</ul>
<h4 id="å¯èƒ½æ¯”è¼ƒå°‘ç”¨çš„æ——æ¨™">å¯èƒ½æ¯”è¼ƒå°‘ç”¨çš„æ——æ¨™</h4>
<ul>
<li>O_DIRECTORY: å¦‚æœé–‹çš„æª”æ¡ˆä¸æ˜¯ä¸€å€‹ç›®éŒ„å°±å›å‚³å¤±æ•—</li>
<li>O_LARGEFILE: æ¡ç”¨ 64 ä½å…ƒ Offset é–‹å•Ÿæª”æ¡ˆï¼Œå¯é–‹å•Ÿ 2GB ä»¥ä¸Šå¤§æª”ï¼Œåœ¨ 64 ä½å…ƒç³»çµ±æ˜¯é è¨­å€¼</li>
<li>O_NOCTTY: å’Œçµ‚ç«¯æ©Ÿç›¸é—œ</li>
<li>O_NOFOLLOW: å¦‚æœé–‹å•Ÿçš„æª”æ¡ˆæ˜¯ symbolic linkï¼Œå°±é–‹å•Ÿå¤±æ•—ï¼Œä½†é–‹å•Ÿçš„æª”æ¡ˆæ‰€å±¬çš„ç›®éŒ„æ˜¯ symbolic link çš„è©±ä»ç„¶æœƒæˆåŠŸ</li>
</ul>
<h4 id="æ–°æª”æ¡ˆçš„ä½¿ç”¨æ¬Šé™">æ–°æª”æ¡ˆçš„ä½¿ç”¨æ¬Šé™</h4>
<p>ã€€ã€€æ–°æª”æ¡ˆçš„ä½¿ç”¨æ¬Šé™æ˜¯ç”± open çš„ç¬¬ä¸‰å€‹å¼•æ•¸ umode_t mode åšæŒ‡å®šã€‚å¦‚æœæ²’å¸¶ O_CREAT æ——æ¨™ï¼Œè©²å¼•æ•¸æœƒè¢«å¿½ç•¥ï¼Œä½†å¦‚æœæœ‰ O_CREAT æ——æ¨™ä½†å»æ²’æœ‰æŒ‡å®š mode çš„è©±ï¼Œè¡Œç‚ºæœƒæ˜¯ä¸æ˜ç¢ºçš„ã€‚mode å¼•æ•¸å°±æ˜¯ä¸€èˆ¬çš„ Unix æ¬Šé™ä½å…ƒè¨­å®šï¼Œå¯ä»¥ä½¿ç”¨ POSIX é å®šç¾©çš„å¹¾å€‹å¸¸æ•¸ç”¨ OR é‹ç®—çµåˆæŒ‡å®šï¼š</p>
<ul>
<li>S_IRUSR: User æ“æœ‰ r æ¬Šé™</li>
<li>S_IWUSR: User æ“æœ‰ w æ¬Šé™</li>
<li>S_IXUSR: User æ“æœ‰ x æ¬Šé™</li>
<li>S_IRWXU: S_IRUSR | S_IWUSR | S_IXUSR</li>
<li>S_IRGRP: Group æ“æœ‰ r æ¬Šé™</li>
<li>S_IWGRP: Group æ“æœ‰ w æ¬Šé™</li>
<li>S_IXGRP: Group æ“æœ‰ x æ¬Šé™</li>
<li>S_IRWXG: S_IRGRP | S_IWGRP | S_IXGRP</li>
<li>S_IROTH: Other æ“æœ‰ r æ¬Šé™</li>
<li>S_IWOTH: Other æ“æœ‰ w æ¬Šé™</li>
<li>S_IXOTH: Other æ“æœ‰ x æ¬Šé™</li>
<li>S_IRWXO: S_IROTH | S_IWOTH | S_IXOTH</li>
</ul>
<p>ã€€ã€€å¯¦éš›ä¸Šå„²å­˜çš„æ¬Šé™é‚„æœƒå—åˆ° umask å½±éŸ¿ï¼Œæ˜¯ä¸€å€‹è¡Œç¨‹å±¬æ€§ï¼Œä»–æœƒé®è”½ mode ä¸­å°æ‡‰çš„æ¬Šé™ä½å…ƒï¼Œä¾‹å¦‚ 022 çš„ mask æœƒæŠŠ 0666 çš„æ¬Šé™è®Šæˆ 0644ã€‚ç›¸é—œçš„è™•ç†å¯ä»¥åœ¨æ ¸å¿ƒ namei.c çš„ lookup_open() ä¸­æ‰¾åˆ°ã€‚åªè¦è¬›åˆ°<strong>è¡Œç¨‹å±¬æ€§</strong>ï¼Œå°±æœ‰å¾ˆå¤§çš„æ©Ÿæœƒæœƒåœ¨æ ¸å¿ƒ linux/sched.h çš„ task_struct ï¼Œè€Œä»–å¯¦éš›ä¸Šä¹Ÿæ˜¯åœ¨é‚£è£¡ï¼Œä½æ–¼ task_struct ä¸­çš„ fs_struct *fs çµæ§‹å…§ï¼Œumask ç³»çµ±å‘¼å«ä¹Ÿæ˜¯ç›´æ¥ä¿®æ”¹è©²å€¼ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#ff0">SYSCALL_DEFINE1</span>(umask, <span style="color:#ee82ee">int</span>, mask)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	mask = <span style="color:#ff0">xchg</span>(&amp;current-&gt;fs-&gt;umask, mask &amp; S_IRWXUGO);
</span></span><span style="display:flex;"><span>	<span style="color:#f00">return</span> mask;
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>ã€€</p>
<h2 id="creat-ç³»çµ±å‘¼å«">creat() ç³»çµ±å‘¼å«</h2>
<p>ã€€ã€€Linux é‚„æœ‰ä¸€å€‹ç³»çµ±å‘¼å«æ˜¯ creatï¼Œç”¨ä¾†å»ºæª” (<a href="https://en.wikiquote.org/wiki/Ken_Thompson">è·Ÿ O_CREAT ä¸€æ¨£ï¼Œä»–çš„æ‹¼éŸ³éƒ½å°‘äº†ä¸€å€‹ e</a>)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;sys/types.h&gt;</span><span style="color:#e5e5e5">
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;sys/stat.h&gt;</span><span style="color:#e5e5e5">
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;fcntl.h&gt;</span><span style="color:#e5e5e5">
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5"></span>
</span></span><span style="display:flex;"><span><span style="color:#ee82ee">int</span> <span style="color:#ff0">creat</span>(<span style="color:#f00">const</span> <span style="color:#ee82ee">char</span> *name, <span style="color:#ee82ee">mode_t</span> mode);</span></span></code></pre></div>
<p>ã€€ã€€ä»–çš„è¡Œç‚ºç­‰åƒ¹æ–¼ open()  åŠ ä¸Š O_WRONLY | O_CREAT | O_TRUNCï¼Œä»–æœƒå­˜åœ¨çš„åŸå› ä¸»è¦æ˜¯ä»¥å‰çš„ open() æ²’æœ‰ mode å¼•æ•¸ï¼Œæˆ‘å€‘ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“åœ°åœ¨ userspace å…§æ™‚å¯¦ä½œä»–ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#ee82ee">int</span> <span style="color:#ff0">creat</span>(<span style="color:#f00">const</span> <span style="color:#ee82ee">char</span> *name, <span style="color:#ee82ee">mode_t</span> mode)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>ã€€ã€€<span style="color:#f00">return</span> <span style="color:#ff0">open</span>(name, O_WRONLY | O_CREAT | O_TRUNC, mode)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>ã€€</p>
<h2 id="close-ç³»çµ±å‘¼å«">close() ç³»çµ±å‘¼å«</h2>
<p>ã€€ã€€æ‡‰ç”¨ç¨‹å¼ä½¿ç”¨å®Œ fd å¾Œï¼Œå¯ä»¥ç”¨ close() ç³»çµ±å‘¼å«å°‡ fd å¾æª”æ¡ˆè¡¨ä¸­ç§»å‡ºï¼Œæ ¸å¿ƒä¸»è¦çš„å¯¦ä½œå‡½å¼ç‚º fs/file.c å…§çš„ __close_fd()ã€‚å¦å¤–ï¼Œåœ¨ fd å›æ”¶å®Œæˆå¾Œï¼Œæ ¸å¿ƒä¹Ÿæœƒå‘¼å«æª”æ¡ˆçš„ flush()ã€‚</p>
<p>ã€€</p>
<h2 id="æ ¸å¿ƒå…§çš„-files_struct">æ ¸å¿ƒå…§çš„ files_struct</h2>
<p>ã€€ã€€æ ¸å¿ƒå…§éƒ¨çš„çµæ§‹å¤§è‡´å¦‚ä¸‹åœ–ï¼Œfiles_struct å…§çš„ fdt æŒ‡æ¨™æœƒæŒ‡å‘ç›®å‰æ­£åœ¨ä½¿ç”¨çš„ fdtable çµæ§‹ï¼Œè©²çµæ§‹å…§åµŒæ–¼ files_struct (fdtab)ã€‚æ¯å€‹ fdtable å…§éƒ½æœ‰å€‹ file é™£åˆ—ï¼Œä»¥ fd ç‚º index å­˜æ”¾æ¯å€‹æ‰€éœ€è¦çš„ file çµæ§‹ï¼Œé è¨­ä¹Ÿæ˜¯å…§åµŒæ–¼ files_struct çš„ fd_arrayï¼Œå¤§å°ç‚º max_fdsï¼š</p>
<figure class="center">
<img src="/images/2018/12/kernel_files_struct.png" alt="">
</figure>
<p>ã€€ã€€å¯ä»¥çœ‹åˆ°å…§åµŒåœ¨ files_struct çš„ fd é™£åˆ—å¤§å°æ˜¯å›ºå®šçš„ NR_OPEN_DEFAULTï¼Œé€™å€‹å€¼è¢«å®šç¾©ç‚º __WORDSIZEï¼Œæ ¹æ“š 32 ä½å…ƒåŠ 64 ä½å…ƒå¹³å°çš„ä¸åŒï¼Œå¯èƒ½æ˜¯ 32 æˆ– 64ã€‚ç•¶é–‹å•Ÿçš„ fd è¶…éç›®å‰çš„é™£åˆ—å¤§å°æ™‚ï¼Œæ ¸å¿ƒæœƒä½¿ç”¨ kvmalloc é‡æ–°é…ç½®ä¸€å€‹æ›´å¤§é™£åˆ—ã€‚</p>
<p>ã€€ã€€å¦å¤– fdtable é‚„æœ‰ä¸€å€‹ open_fds é™£åˆ—ï¼Œä»–æ˜¯ä»¥ bitmap å½¢å¼è¨˜éŒ„å“ªä¸€å€‹ fd å·²ç¶“è¢«é–‹å•Ÿï¼Œç•¶ open() éœ€è¦å–å¾—æœªä½¿ç”¨çš„ fd æ™‚ï¼Œæ ¸å¿ƒä¾¿æœƒå»æƒæ open_fds é™£åˆ—å…§çš„æ¯ä¸€å€‹ bit ï¼Œä»¥æ‰¾åˆ°æœªä½¿ç”¨çš„ fdã€‚</p>
<p>ã€€</p>
<h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™</h2>
<p><a href="https://www.tenlong.com.tw/products/9789862769812">Robert Love. Linux System Programming</a></p>

      <div class="share-icons d-flex justify-content-center d-print-none">
        <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fblog.jaycetyle.com%2f2018%2f12%2flinux-fd-open-close%2f&text=Linux%20%e7%b3%bb%e7%b5%b1%e7%a8%8b%e5%bc%8f%e8%a8%ad%e8%a8%88%20-%20fd%20%e5%8f%8a%20open%28%29%e3%80%81close%28%29%20%e7%b3%bb%e7%b5%b1%e5%91%bc%e5%8f%ab&tw_p=tweetbutton" class="p-2" title="Share on Twitter" target="_blank" rel="nofollow">
    <div>
        <span class="fa-stack">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
        </span>
    </div>
    <div class="fa-inverse text-center"><small>Tweet</small></div>
</a>

<a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fblog.jaycetyle.com%2f2018%2f12%2flinux-fd-open-close%2f&t=Linux%20%e7%b3%bb%e7%b5%b1%e7%a8%8b%e5%bc%8f%e8%a8%ad%e8%a8%88%20-%20fd%20%e5%8f%8a%20open%28%29%e3%80%81close%28%29%20%e7%b3%bb%e7%b5%b1%e5%91%bc%e5%8f%ab" class="p-2" title="Share on Facebook" target="_blank" rel="nofollow">
    <div>
        <span class="fa-stack">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
        </span>
    </div>
    <div class="fa-inverse text-center"><small>Share</small></div>
</a>

<a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fblog.jaycetyle.com%2f2018%2f12%2flinux-fd-open-close%2f&title=Linux%20%e7%b3%bb%e7%b5%b1%e7%a8%8b%e5%bc%8f%e8%a8%ad%e8%a8%88%20-%20fd%20%e5%8f%8a%20open%28%29%e3%80%81close%28%29%20%e7%b3%bb%e7%b5%b1%e5%91%bc%e5%8f%ab&source=mattbutton.com" class="p-2" title="Share on LinkedIn" target="_blank" rel="nofollow">
    <div>
        <span class="fa-stack">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
        </span>
    </div>
    <div class="fa-inverse text-center"><small>Share</small></div>
</a>

<a href="javascript:window.print()" title="Print this article" class="p-2" target="_blank" rel="nofollow">
    <div>
        <span class="fa-stack">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fa fa-print fa-stack-1x fa-inverse"></i>
        </span>
    </div>
    <div class="fa-inverse text-center"><small>Print</small></div>
</a>
      </div>
    </div>

    

<h4>ç›¸é—œæ–‡ç« æ¨è–¦</h4>
<ul>
	
	<li><a href="/2019/01/linux-read-write/">Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - read()ã€write() èˆ‡ page cache</a></li>
	
	<li><a href="/2018/10/vscode-gnu-global/">VS Code &#43; GNU Global - æ‰“é€  Trace Linux Kernel ç’°å¢ƒ</a></li>
	
</ul>

    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "jaycetyle" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
  <div class="sidebar d-print-none d-none d-xl-block">
  <h5 class="mt-4 post-title">Recent Posts</h5>
  <ul class="mt-2 pl-4">
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2021/10/linux-fio-tips/">Linux fio æ¸¬è©¦åƒæ•¸çš„çœ‰çœ‰è§’è§’</a></li>
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2021/10/kprobe-userspace-tool/">Kprobe Userspace Tool ä½¿ç”¨ç­†è¨˜</a></li>
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2019/12/linux-bug-on-case-study/">Linux Kernel BUG_ON å‚¾å°è¨Šæ¯åˆ†æåŠæ¡ˆä¾‹åˆ†äº«</a></li>
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2019/11/passing-smart-pointer/">[C&#43;&#43;] å¹¾ç¨®åœ¨å‡½æ•¸å‚³é Smart Pointer çš„æ–¹å¼æ•´ç†</a></li>
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2019/10/jekyll-to-hugo/">å¾ Jekyll é·ç§»åˆ° Hugo æ­¥é©Ÿå¿ƒå¾—åˆ†äº«</a></li>
    
  </ul>
  <h5 class="mt-4 text-capitalize post-title">Tags</h5>
  <ul class="mt-2 pl-4">
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/c/c&#43;&#43;/'>
      C/C&#43;&#43;
      <span class="badge badge-pill badge-secondary">11</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/ubuntu-%E4%BD%9C%E6%A5%AD%E7%B3%BB%E7%B5%B1/'>
      Ubuntu ä½œæ¥­ç³»çµ±
      <span class="badge badge-pill badge-secondary">7</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/linux-kernel/'>
      Linux Kernel
      <span class="badge badge-pill badge-secondary">6</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83/'>
      é–‹ç™¼ç’°å¢ƒ
      <span class="badge badge-pill badge-secondary">5</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/'>
      ç‰ˆæœ¬æ§åˆ¶
      <span class="badge badge-pill badge-secondary">4</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/%E9%96%92%E8%81%8A/'>
      é–’èŠ
      <span class="badge badge-pill badge-secondary">4</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/%E6%A8%B9%E8%8E%93%E6%B4%BE/'>
      æ¨¹è“æ´¾
      <span class="badge badge-pill badge-secondary">3</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/%E7%B6%B2%E7%AB%99%E6%9E%B6%E8%A8%AD/'>
      ç¶²ç«™æ¶è¨­
      <span class="badge badge-pill badge-secondary">3</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/c%23/'>
      C#
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/linux-system-performance/'>
      Linux System Performance
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/nas-%E8%88%87%E8%B3%87%E6%96%99%E5%82%99%E4%BB%BD/'>
      NAS èˆ‡è³‡æ–™å‚™ä»½
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/python/'>
      Python
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/%E5%B7%A5%E5%85%B7%E8%BB%9F%E9%AB%94/'>
      å·¥å…·è»Ÿé«”
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
  </ul>
</div>

        </div>

        <footer class="mt-auto footer d-print-none">
            <div class="container-fluid">
                <div class="d-flex col-xl-12 justify-content-center">
                    <div>Â© 2019<a href="https://blog.jaycetyle.com/about/"> Lin Chieh ( Jayce )</a>. Powered by <a href="https://gohugo.io/">Hugo</a> using <a href='https://www.mattbutton.com'>Matt Button</a>'s <a href='https://github.com/mattbutton/silhouette-hugo'>Silhouette Hugo</a> theme.</div>
                </div>
                </hr>
                <div class="d-flex justify-content-center icons">
                    <a class="py-2 px-2" href="https://www.linkedin.com/in/chieh-lin-569430a9/"><i class="fab fa-linkedin"></i></a>
<a class="py-2 px-2" href="https://github.com/jaycetyle/"><i class="fab fa-github"></i></a>
<a class="py-2 px-2" href='https://blog.jaycetyle.com/index.xml'><i class="fas fa-rss"></i></a>

                </div>
            </div>
        </footer>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

        
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1ZFSFPEZG5"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1ZFSFPEZG5');
        }
      </script>
    </body>
</html>
