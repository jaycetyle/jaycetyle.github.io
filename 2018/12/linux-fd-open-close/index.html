<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <meta property="og:title" content="Linux 系統程式設計 - fd 及 open()、close() 系統呼叫" />
<meta property="og:description" content="開始接觸 Linux Kernel 也有差不多一年的時間，最近開始有明顯地感覺到有某種瓶頸存在，仔細思考了一下覺得是底子不夠，所以決定從基礎來好好學習一下，再搭配核心程式碼來確認是否是看到的那樣。這篇主要筆記 file descriptor、open() 及 close() 系統呼叫相關的部。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.jaycetyle.com/2018/12/linux-fd-open-close/" />
<meta property="article:published_time" content="2018-12-30T00:00:00+00:00" />
<meta property="article:modified_time" content="2018-12-30T00:00:00+00:00" />

        <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Linux 系統程式設計 - fd 及 open()、close() 系統呼叫"/>
<meta name="twitter:description" content="開始接觸 Linux Kernel 也有差不多一年的時間，最近開始有明顯地感覺到有某種瓶頸存在，仔細思考了一下覺得是底子不夠，所以決定從基礎來好好學習一下，再搭配核心程式碼來確認是否是看到的那樣。這篇主要筆記 file descriptor、open() 及 close() 系統呼叫相關的部。"/>


        <title>
  Linux 系統程式設計 - fd 及 open()、close() 系統呼叫 | Jayce 的共享記憶體
</title>

        

<link rel="shortcut icon" href="/images/favicon.ico">

<link rel="shortcut icon" href="/images/favicon.png">

<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">


        <link href="https://fonts.googleapis.com/css?family=Oswald:400" rel="stylesheet">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">      
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

        
        
        

        <link rel="stylesheet" href="https://blog.jaycetyle.com/css/bundle.min.209902f7baab1f0d49e091e9edb579596c4617816810a3425c0b90e26dbabad4.css" integrity="sha256-IJkC97qrHw1J4JHp7bV5WWxGF4FoEKNCXAuQ4m26utQ="  />

        
  <link rel="me" type="text/html" href="https://www.linkedin.com/in/chieh-lin-569430a9/"/>


<link rel="shortcut icon" href="/images/favicon.ico">

<link rel="shortcut icon" href="/images/favicon.png">

<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">


<link rel="alternate" type="application/rss+xml" href='https://blog.jaycetyle.com/index.xml' />

<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta name="author" content="" />
<meta name="copyright" content="" />


<meta name="description" content="開始接觸 Linux Kernel 也有差不多一年的時間，最近開始有明顯地感覺到有某種瓶頸存在，仔細思考了一下覺得是底子不夠，所以決定從基礎來好好學習一下，再搭配核心程式碼來確認是否是看到的那樣。這篇主要筆記 file descriptor、open() 及 close() 系統呼叫相關的部。">

  <style type="text/css">
  .feature-image {
    background-image: linear-gradient(
      rgba(0, 0, 0, 0.15),
      rgba(0, 0, 0, 0.15)
    ), url('https://blog.jaycetyle.com/images/banner.jpg');
    height: 400px;
    background-repeat:no-repeat;
    background-size:cover;
    background-position: center;
  }
  .feature-image-text {
    margin-top: 20px;
  }

  @media (max-width: 1024px) {
    .feature-image {
      height: 300px;
    }
  }

  @media (max-width: 768px) {
    .feature-image {
      height: 250px;
    }
  }

  @media (max-width: 520px) {
    .feature-image {
      display: none;
    }
  }
</style>




    </head>
    <body>
        <nav class="navbar fixed-top navbar-expand-md navbar-primary bg-primary py-1 top-nav">
            <div class="container">
                    <a href="https://blog.jaycetyle.com"><img class="logo" src="https://blog.jaycetyle.com/images/logo.png"></a>
<a class="navbar-brand pr-4 d-none d-sm-block" href="https://blog.jaycetyle.com">Jayce&#39;s Shared Memory</a>
                <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fas fa-bars" style="color:black"></i>
                </button>
                <div class="navbar-collapse collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
    <a class="nav-link active" href="https://blog.jaycetyle.com">Home</a>
</li>
<li class="nav-item">
    <a class="nav-link active" href="https://github.com/jaycetyle">Github</a>
</li>
<li class="nav-item">
    <a class="nav-link active" href="https://blog.jaycetyle.com/about/">About</a>
</li>
                    </ul>
                </div>
            </div>
        </nav>

        
  <header class="feature-image">
  <div class="feature-image-text white-shadow-text">
    <h1 class="font-weight:bold">Linux 系統程式設計 - fd 及 open()、close() 系統呼叫</h1>
  </div>
</header>


        <div class="container main my-4">
            
  <div class="post p-3 p-sm-5">
    <h3 class="post-title">Linux 系統程式設計 - fd 及 open()、close() 系統呼叫</h3>
    <div class="mt-2 mb-3">
    <small>
        <strong>By Lin Chieh (Jayce)</strong>
        | <i class="far fa-calendar-alt"></i>&nbsp;Dec 30, 2018&nbsp;
        | <i class="fa fa-tags" title="Tags" aria-hidden="true"></i> <a href='/tags/c/c&#43;&#43;/'>C/C&#43;&#43;</a>, <a href='/tags/linux-kernel/'>Linux Kernel</a>
    </small>
</div>

    <div class="mt-4 mb-4 main-content">
      <p>　　開始接觸 Linux Kernel 也有差不多一年的時間，最近開始有明顯地感覺到有某種瓶頸存在，仔細思考了一下覺得是底子不夠，所以決定從基礎來好好學習一下，再搭配核心程式碼來確認是否是看到的那樣。這篇主要筆記 file descriptor、open() 及 close() 系統呼叫相關的部分，主要參考 <a href="https://www.tenlong.com.tw/products/9789862769812">Robert Love 的 Linux System Programming</a>。</p>

<h2 id="file-descriptor">File Descriptor</h2>

<p>　　檔案必須先開啟後才能進行讀寫操作，開啟檔案後會回傳一個 File Descriptor (檔案描述器、簡稱 fd)，之後的所有操作都會需要 fd 作為參數。除非每個行程明確將其關閉，否則行程至少會開啟 3 個 fd，分別是 stdin(0), stdout(1) 及 stderr(2)，實際使用這三個 fd 時不需直接用 0 ~ 2 整數值，unistd.h 有預先定義好的 STDIN_FILENO, STDOUT_FILENO 及 STDERR_FILENO。</p>

<p>　　核心內部會替每個行程(task) 維護一份 file table，放在 current-&gt;files，用來記錄行程開啟的 fd，可以在 linux/sched.h 的 task_struct中找到他。開檔的系統呼叫會調用 fs/open.c 內的 do_sys_open()，裡面就會註冊 fd 到行程的檔案表，參考以下的核心程式碼：</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#ee82ee">long</span> <span style="color:#ff0">do_sys_open</span>(<span style="color:#ee82ee">int</span> dfd, <span style="color:#f00">const</span> <span style="color:#ee82ee">char</span> __user *filename, <span style="color:#ee82ee">int</span> flags, umode_t mode)
{
	<span style="color:#0f0">/* 略... */</span>
	<span style="color:#0f0">/// 從 current-&gt;files 裡面找一個還沒有用到的 fd
</span><span style="color:#0f0"></span>	<span style="color:#0f0">/// current-&gt;files 是一個 struct files_struct，定義於 linux/fdtable.h
</span><span style="color:#0f0"></span>	<span style="color:#0f0">/// files_struct 裡面有一個 struct fdtable __rcu *fdt 就是 file table 了
</span><span style="color:#0f0"></span>	fd = get_unused_fd_flags(flags);
	<span style="color:#f00">if</span> (fd &gt;= <span style="color:#f60">0</span>) {
		<span style="color:#0f0">/// do_filp_open 進去以後就會調用到 vfs_open 要求檔案系統進行開檔
</span><span style="color:#0f0"></span>		<span style="color:#f00">struct</span> file *f = do_filp_open(dfd, tmp, &amp;op);
		<span style="color:#f00">if</span> (IS_ERR(f)) {
			<span style="color:#0f0">/// 開檔失敗，把 fd 還回去
</span><span style="color:#0f0"></span>			put_unused_fd(fd);
			fd = PTR_ERR(f);
		} <span style="color:#f00">else</span> {
			<span style="color:#0f0">/// notify 機制，通知有檔案打開了
</span><span style="color:#0f0"></span>			<span style="color:#0f0">/// 其他的 notify 也可以在 vfs 層中找到，以 fsnotify_ 作為函數開頭
</span><span style="color:#0f0"></span>			fsnotify_open(f);
			<span style="color:#0f0">/// 將 fd 放到 fdtable 內的 fd array
</span><span style="color:#0f0"></span>			fd_install(fd, f);
		}
	}
	<span style="color:#0f0">/* 略... */</span>
	<span style="color:#f00">return</span> fd;
}</code></pre></div>

<p>　　詳細結構可參考文末的 files_struct 結構介紹。另外，在預設情況下，子行程會<strong>複製</strong>父行程的檔案表，例如開啟的檔案及存取模式等等，但行程中對檔案的操作不會影響其他行程，例如子行程將檔案關閉後，並不影響父行程的檔案操作。</p>

<p>　</p>

<h2 id="open-系統呼叫">open() 系統呼叫</h2>

<p>　　存取檔案的操作都會需要 fd，而 fd 的取得是透過 open() 系統呼叫。open() 系統呼叫有以下兩種形式，其回傳的 int 變數就是 fd：</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;sys/types.h&gt;</span><span style="color:#e5e5e5">
</span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;sys/stat.h&gt;</span><span style="color:#e5e5e5">
</span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;fcntl.h&gt;</span><span style="color:#e5e5e5">
</span><span style="color:#e5e5e5"></span>
<span style="color:#ee82ee">int</span> <span style="color:#ff0">open</span>(<span style="color:#f00">const</span> <span style="color:#ee82ee">char</span> *name, <span style="color:#ee82ee">int</span> flags);
<span style="color:#ee82ee">int</span> <span style="color:#ff0">open</span>(<span style="color:#f00">const</span> <span style="color:#ee82ee">char</span> *name, <span style="color:#ee82ee">int</span> flags, mode_t mode);</code></pre></div>

<p>　　open() 的 flags 可以是一個或多個值 OR 的結果，用以表示開啟要求的行為，且必須包含 O_RDONLY、O_WRONLY 或 O_RDWR 三者其中之一，但如果開檔的行程不具備對應的操作權限，當然也就不能以該模式開啟檔案。</p>

<h4 id="必要旗標">必要旗標</h4>

<ul>
<li>O_RDONLY: 以唯讀模式開啟</li>
<li>O_WRONLY: 以唯寫模式開啟</li>
<li>O_RDWR: 以讀寫模式開啟</li>
</ul>

<h4 id="行為操作旗標">行為操作旗標</h4>

<ul>
<li>O_APPEND: 以附加模式開啟

<ul>
<li>以附加模式開啟的檔案，寫入操作都會從檔案末端開始，就算第二個行程也對該檔案進行寫入因而改變了檔案末端位置</li>
<li>例如多個行程要對相同 log 檔進行寫入的應用時，這個模式就會相當好用，因為它可以避免多個寫入者互相競爭的情況</li>
</ul></li>
<li>O_CLOEXEC: 在執行 execl 後自動關閉該 fd

<ul>
<li>fork() 後執行 execl() 是常見的操作，不過 fork() 的子行程會複製父行程的 fd</li>
<li>execl() 時通常都不想保留 fd，設立此 flags 的 fd 可以在執行 execl 時自動關閉</li>
</ul></li>
<li>O_NOATIME: 進行*讀取*操作時不更新檔案的存取時間

<ul>
<li>對於檢索、備份類會經常大量讀取系統上所有檔案的程式有很大的幫助，可以減少讀取後要更新 inode 造成的寫入量</li>
</ul></li>
<li>O_TRUNC: 若開啟的檔案存在且是一般檔案，開啟後就將其截短成長度為 0

<ul>
<li>以 O_RDONLY | O_TRUNC 開啟檔案是未定義行為</li>
</ul></li>
</ul>

<h4 id="同步-非同步旗標">同步、非同步旗標</h4>

<ul>
<li>O_SYNC: 以 SYNC 模式開啟檔案 (之後會再補充同步 IO)</li>
<li>O_ASYNC: 如果指定的檔案變成可讀或可寫的狀態，就產生一個 Signal (預設為 SIGIO)

<ul>
<li>用於 Socket、FIFO、Terminal 等需要非同步操作的情境</li>
<li>不能用於一般檔案</li>
<li>比較常見的應該是使用 aio 相關函式庫而不是使用 O_ASYNC 模式</li>
</ul></li>
<li>O_NONBLOCK: 以 non-blocking IO 模式開啟

<ul>
<li>對 FIFO 做 read() 時，如果沒有資料可以讀取時立即返回(不阻擋)</li>
<li>因為沒資料而返回時會將 errno 設為 EAGAIN</li>
</ul></li>
<li>O_DIRECT: 以 Direct IO 模式開啟檔案 (之後會再補充 Direct IO)</li>
</ul>

<h4 id="建檔相關旗標">建檔相關旗標</h4>

<ul>
<li>O_CREAT: 如果指定的檔案不存在，就建立一個</li>
<li>O_EXCL: 有指定 O_CREAT 時才有效。如果開檔時檔案已經存在，就回傳失敗，可以避免兩個行程想同時建檔的競爭情況</li>
</ul>

<h4 id="可能比較少用的旗標">可能比較少用的旗標</h4>

<ul>
<li>O_DIRECTORY: 如果開的檔案不是一個目錄就回傳失敗</li>
<li>O_LARGEFILE: 採用 64 位元 Offset 開啟檔案，可開啟 2GB 以上大檔，在 64 位元系統是預設值</li>
<li>O_NOCTTY: 和終端機相關</li>
<li>O_NOFOLLOW: 如果開啟的檔案是 symbolic link，就開啟失敗，但開啟的檔案所屬的目錄是 symbolic link 的話仍然會成功</li>
</ul>

<h4 id="新檔案的使用權限">新檔案的使用權限</h4>

<p>　　新檔案的使用權限是由 open 的第三個引數 umode_t mode 做指定。如果沒帶 O_CREAT 旗標，該引數會被忽略，但如果有 O_CREAT 旗標但卻沒有指定 mode 的話，行為會是不明確的。mode 引數就是一般的 Unix 權限位元設定，可以使用 POSIX 預定義的幾個常數用 OR 運算結合指定：</p>

<ul>
<li>S_IRUSR: User 擁有 r 權限</li>
<li>S_IWUSR: User 擁有 w 權限</li>
<li>S_IXUSR: User 擁有 x 權限</li>
<li>S_IRWXU: S_IRUSR | S_IWUSR | S_IXUSR</li>
<li>S_IRGRP: Group 擁有 r 權限</li>
<li>S_IWGRP: Group 擁有 w 權限</li>
<li>S_IXGRP: Group 擁有 x 權限</li>
<li>S_IRWXG: S_IRGRP | S_IWGRP | S_IXGRP</li>
<li>S_IROTH: Other 擁有 r 權限</li>
<li>S_IWOTH: Other 擁有 w 權限</li>
<li>S_IXOTH: Other 擁有 x 權限</li>
<li>S_IRWXO: S_IROTH | S_IWOTH | S_IXOTH</li>
</ul>

<p>　　實際上儲存的權限還會受到 umask 影響，是一個行程屬性，他會遮蔽 mode 中對應的權限位元，例如 022 的 mask 會把 0666 的權限變成 0644。相關的處理可以在核心 namei.c 的 lookup_open() 中找到。只要講到<strong>行程屬性</strong>，就有很大的機會會在核心 linux/sched.h 的 task_struct ，而他實際上也是在那裡，位於 task_struct 中的 fs_struct *fs 結構內，umask 系統呼叫也是直接修改該值。</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">SYSCALL_DEFINE1(umask, <span style="color:#ee82ee">int</span>, mask)
{
	mask = xchg(&amp;current-&gt;fs-&gt;umask, mask &amp; S_IRWXUGO);
	<span style="color:#f00">return</span> mask;
}</code></pre></div>

<p>　</p>

<h2 id="creat-系統呼叫">creat() 系統呼叫</h2>

<p>　　Linux 還有一個系統呼叫是 creat，用來建檔 (<a href="https://en.wikiquote.org/wiki/Ken_Thompson">跟 O_CREAT 一樣，他的拼音都少了一個 e</a>)</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;sys/types.h&gt;</span><span style="color:#e5e5e5">
</span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;sys/stat.h&gt;</span><span style="color:#e5e5e5">
</span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;fcntl.h&gt;</span><span style="color:#e5e5e5">
</span><span style="color:#e5e5e5"></span>
<span style="color:#ee82ee">int</span> <span style="color:#ff0">creat</span>(<span style="color:#f00">const</span> <span style="color:#ee82ee">char</span> *name, mode_t mode);</code></pre></div>

<p>　　他的行為等價於 open()  加上 O_WRONLY | O_CREAT | O_TRUNC，他會存在的原因主要是以前的 open() 沒有 mode 引數，我們也可以很容易地在 userspace 內時實作他：</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c"><span style="color:#ee82ee">int</span> <span style="color:#ff0">creat</span>(<span style="color:#f00">const</span> <span style="color:#ee82ee">char</span> *name, mode_t mode)
{
　　<span style="color:#f00">return</span> open(name, O_WRONLY | O_CREAT | O_TRUNC, mode)
}</code></pre></div>

<p>　</p>

<h2 id="close-系統呼叫">close() 系統呼叫</h2>

<p>　　應用程式使用完 fd 後，可以用 close() 系統呼叫將 fd 從檔案表中移出，核心主要的實作函式為 fs/file.c 內的 __close_fd()。另外，在 fd 回收完成後，核心也會呼叫檔案的 flush()。</p>

<p>　</p>

<h2 id="核心內的-files-struct">核心內的 files_struct</h2>

<p>　　核心內部的結構大致如下圖，files_struct 內的 fdt 指標會指向目前正在使用的 fdtable 結構，該結構內嵌於 files_struct (fdtab)。每個 fdtable 內都有個 file 陣列，以 fd 為 index 存放每個所需要的 file 結構，預設也是內嵌於 files_struct 的 fd_array，大小為 max_fds：</p>

<figure class="center">
<img src="/images/2018/12/kernel_files_struct.png" alt="">
</figure>

<p>　　可以看到內嵌在 files_struct 的 fd 陣列大小是固定的 NR_OPEN_DEFAULT，這個值被定義為 __WORDSIZE，根據 32 位元及 64 位元平台的不同，可能是 32 或 64。當開啟的 fd 超過目前的陣列大小時，核心會使用 kvmalloc 重新配置一個更大陣列。</p>

<p>　　另外 fdtable 還有一個 open_fds 陣列，他是以 bitmap 形式記錄哪一個 fd 已經被開啟，當 open() 需要取得未使用的 fd 時，核心便會去掃描 open_fds 陣列內的每一個 bit ，以找到未使用的 fd。</p>

<p>　</p>

<h2 id="參考資料">參考資料</h2>

<p><a href="https://www.tenlong.com.tw/products/9789862769812">Robert Love. Linux System Programming</a></p>

      <div class="share-icons d-flex justify-content-center d-print-none">
        <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fblog.jaycetyle.com%2f2018%2f12%2flinux-fd-open-close%2f&text=Linux%20%e7%b3%bb%e7%b5%b1%e7%a8%8b%e5%bc%8f%e8%a8%ad%e8%a8%88%20-%20fd%20%e5%8f%8a%20open%28%29%e3%80%81close%28%29%20%e7%b3%bb%e7%b5%b1%e5%91%bc%e5%8f%ab&tw_p=tweetbutton" class="p-2" title="Share on Twitter" target="_blank" rel="nofollow">
    <div>
        <span class="fa-stack">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
        </span>
    </div>
    <div class="fa-inverse text-center"><small>Tweet</small></div>
</a>

<a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fblog.jaycetyle.com%2f2018%2f12%2flinux-fd-open-close%2f&t=Linux%20%e7%b3%bb%e7%b5%b1%e7%a8%8b%e5%bc%8f%e8%a8%ad%e8%a8%88%20-%20fd%20%e5%8f%8a%20open%28%29%e3%80%81close%28%29%20%e7%b3%bb%e7%b5%b1%e5%91%bc%e5%8f%ab" class="p-2" title="Share on Facebook" target="_blank" rel="nofollow">
    <div>
        <span class="fa-stack">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
        </span>
    </div>
    <div class="fa-inverse text-center"><small>Share</small></div>
</a>

<a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fblog.jaycetyle.com%2f2018%2f12%2flinux-fd-open-close%2f&title=Linux%20%e7%b3%bb%e7%b5%b1%e7%a8%8b%e5%bc%8f%e8%a8%ad%e8%a8%88%20-%20fd%20%e5%8f%8a%20open%28%29%e3%80%81close%28%29%20%e7%b3%bb%e7%b5%b1%e5%91%bc%e5%8f%ab&source=mattbutton.com" class="p-2" title="Share on LinkedIn" target="_blank" rel="nofollow">
    <div>
        <span class="fa-stack">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
        </span>
    </div>
    <div class="fa-inverse text-center"><small>Share</small></div>
</a>

<a href="javascript:window.print()" title="Print this article" class="p-2" target="_blank" rel="nofollow">
    <div>
        <span class="fa-stack">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fa fa-print fa-stack-1x fa-inverse"></i>
        </span>
    </div>
    <div class="fa-inverse text-center"><small>Print</small></div>
</a>
      </div>
    </div>

    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "jaycetyle" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
  <div class="sidebar d-print-none d-none d-xl-block">
  <h5 class="mt-4 post-title">Recent Posts</h5>
  <ul class="mt-2 pl-4">
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2019/10/jekyll-to-hugo/">從 Jekyll 遷移到 Hugo 步驟心得分享</a></li>
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2019/07/vscode-remote-wsl/">Visual Studio Code Remote - WSL 安裝教學</a></li>
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2019/07/more-about-vscode-gnu-global/">VS Code GNU Global 相依專案路徑設定</a></li>
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2019/01/linux-read-write/">Linux 系統程式設計 - read()、write() 與 page cache</a></li>
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2018/12/linux-fd-open-close/">Linux 系統程式設計 - fd 及 open()、close() 系統呼叫</a></li>
    
  </ul>
  <h5 class="mt-4 text-capitalize post-title">Tags</h5>
  <ul class="mt-2 pl-4">
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.comtags/c/c&#43;&#43;/'>
      C/C&#43;&#43;
      <span class="badge badge-pill badge-secondary">10</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.comtags/ubuntu-%E4%BD%9C%E6%A5%AD%E7%B3%BB%E7%B5%B1/'>
      Ubuntu 作業系統
      <span class="badge badge-pill badge-secondary">7</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.comtags/%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83/'>
      開發環境
      <span class="badge badge-pill badge-secondary">5</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.comtags/linux-kernel/'>
      Linux Kernel
      <span class="badge badge-pill badge-secondary">4</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.comtags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/'>
      版本控制
      <span class="badge badge-pill badge-secondary">4</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.comtags/%E9%96%92%E8%81%8A/'>
      閒聊
      <span class="badge badge-pill badge-secondary">4</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.comtags/%E6%A8%B9%E8%8E%93%E6%B4%BE/'>
      樹莓派
      <span class="badge badge-pill badge-secondary">3</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.comtags/%E7%B6%B2%E7%AB%99%E6%9E%B6%E8%A8%AD/'>
      網站架設
      <span class="badge badge-pill badge-secondary">3</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.comtags/c%23/'>
      C#
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.comtags/nas-%E8%88%87%E8%B3%87%E6%96%99%E5%82%99%E4%BB%BD/'>
      NAS 與資料備份
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.comtags/python/'>
      Python
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.comtags/%E5%B7%A5%E5%85%B7%E8%BB%9F%E9%AB%94/'>
      工具軟體
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
  </ul>
</div>

        </div>

        <footer class="mt-auto footer d-print-none">
            <div class="container-fluid">
                <div class="d-flex col-xl-12 justify-content-center">
                    <div>© 2019<a href="https://blog.jaycetyle.com/about/"> Lin Chieh ( Jayce )</a>. Powered by <a href="https://gohugo.io/">Hugo</a> using <a href='https://www.mattbutton.com'>Matt Button</a>'s <a href='https://github.com/mattbutton/silhouette-hugo'>Silhouette Hugo</a> theme.</div>
                </div>
                </hr>
                <div class="d-flex justify-content-center icons">
                    <a class="py-2 px-2" href="https://www.linkedin.com/in/chieh-lin-569430a9/"><i class="fab fa-linkedin"></i></a>
<a class="py-2 px-2" href="https://github.com/jaycetyle/"><i class="fab fa-github"></i></a>
<a class="py-2 px-2" href='https://blog.jaycetyle.com/index.xml'><i class="fas fa-rss"></i></a>

                </div>
            </div>
        </footer>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-112038536-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    </body>
</html>
