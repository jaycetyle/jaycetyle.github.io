<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <meta property="og:url" content="https://blog.jaycetyle.com/2019/01/linux-read-write/">
  <meta property="og:site_name" content="Jayce çš„å…±äº«è¨˜æ†¶é«”">
  <meta property="og:title" content="Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - read()ã€write() èˆ‡ page cache">
  <meta property="og:description" content="é€™ç¯‡å»¶çºŒ Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - fd åŠ open()ã€close() ç³»çµ±å‘¼å«ä¸€æ–‡ï¼Œä¸»è¦ç­†è¨˜ read()ã€write() ç³»çµ±å‘¼å«åŠ page cache ç›¸é—œçš„éƒ¨åˆ†">
  <meta property="og:locale" content="zh_tw">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2019-01-01T00:00:00+00:00">
    <meta property="article:modified_time" content="2025-04-02T00:00:00+00:00">
    <meta property="article:tag" content="C/C&#43;&#43;">
    <meta property="article:tag" content="Linux Kernel">

        
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - read()ã€write() èˆ‡ page cache">
  <meta name="twitter:description" content="é€™ç¯‡å»¶çºŒ Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - fd åŠ open()ã€close() ç³»çµ±å‘¼å«ä¸€æ–‡ï¼Œä¸»è¦ç­†è¨˜ read()ã€write() ç³»çµ±å‘¼å«åŠ page cache ç›¸é—œçš„éƒ¨åˆ†">


        <title>
  Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - read()ã€write() èˆ‡ page cache | Jayce çš„å…±äº«è¨˜æ†¶é«”
</title>

        

<link rel="shortcut icon" href="/images/favicon.ico">

<link rel="shortcut icon" href="/images/favicon.png">

<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">


        <link href="https://fonts.googleapis.com/css?family=Oswald:400" rel="stylesheet">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">      
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">

        
        
        
        
        
        <link rel="stylesheet" href="https://blog.jaycetyle.com/css/styles.min.6a7e3e1c24ad4b4b16f344cfc54f4b5a4e92f35366ada3879f0176264c5f99b9.css" integrity="sha256-an4&#43;HCStS0sW80TPxU9LWk6S81NmraOHnwF2Jkxfmbk=">
        
        
        <link id="theme-style" rel="stylesheet" href="">

        
        <script>
            window.themeUrls = {
            light: "\/css\/light.min.0d91bc92b83a6a8aac989d53ce618ea99f98702fd931a07d8219dd7c3ae030eb.css",
            dark: "\/css\/dark.min.0525e903e45a2f396be49bc8bbb86720ab65a077b0f5913ae72e4e155adf02d8.css"
            };
        </script>
        
  <link rel="me" type="text/html" href="https://www.linkedin.com/in/chieh-lin-569430a9/"/>


<link rel="shortcut icon" href="/images/favicon.ico">

<link rel="shortcut icon" href="/images/favicon.png">

<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">


<link rel="alternate" type="application/rss+xml" href='https://blog.jaycetyle.com/index.xml' />

<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta name="author" content="" />
<meta name="copyright" content="" />


<meta name="description" content="é€™ç¯‡å»¶çºŒ Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - fd åŠ open()ã€close() ç³»çµ±å‘¼å«ä¸€æ–‡ï¼Œä¸»è¦ç­†è¨˜ read()ã€write() ç³»çµ±å‘¼å«åŠ page cache ç›¸é—œçš„éƒ¨åˆ†">

  <style type="text/css">
  .feature-image {
    background-image: linear-gradient(
      rgba(0, 0, 0, 0.15),
      rgba(0, 0, 0, 0.15)
    ), url('https://blog.jaycetyle.com/images/banner.jpg');
    height: 400px;
    background-repeat:no-repeat;
    background-size:cover;
    background-position: center;
  }
  .feature-image-text {
    margin-top: 20px;
  }

  @media (max-width: 1024px) {
    .feature-image {
      height: 300px;
    }
  }

  @media (max-width: 768px) {
    .feature-image {
      height: 250px;
    }
  }

  @media (max-width: 520px) {
    .feature-image {
      display: none;
    }
  }
</style>




    </head>
    <body>
        <nav class="navbar fixed-top navbar-expand-md navbar-primary bg-primary py-1 top-nav">
            <div class="container">
                    <a href="https://blog.jaycetyle.com/"><img class="logo" src="https://blog.jaycetyle.com//images/logo.png"></a>
<a class="navbar-brand pr-4 d-none d-sm-block" href="https://blog.jaycetyle.com/">Jayce&#39;s Shared Memory</a>
                <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fas fa-bars" style="color:black"></i>
                </button>
                <div class="navbar-collapse collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
    <a class="nav-link active" href="https://blog.jaycetyle.com/">Home</a>
</li>
<li class="nav-item">
    <a class="nav-link active" href="https://blog.jaycetyle.com/%20archive/">Archive</a>
</li>
<li class="nav-item">
    <a class="nav-link active" href="https://github.com/jaycetyle">Github</a>
</li>
<li class="nav-item">
    <a class="nav-link active" href="https://blog.jaycetyle.com/%20about/">About</a>
</li>
<button id="theme-toggle" style="background: transparent; border: none; color: inherit; cursor: pointer;">
    ğŸŒ™
</button>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const themeLink = document.getElementById("theme-style");
        const toggleBtn = document.getElementById("theme-toggle");

        function getPreferredTheme() {
            return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
        }

        function setTheme(theme) {
            themeLink.href = window.themeUrls[theme];
            toggleBtn.textContent = theme === "dark" ? "â˜€ï¸" : "ğŸŒ™";
        }

        let currentTheme = getPreferredTheme();
        setTheme(currentTheme);

        toggleBtn.addEventListener("click", function () {
            currentTheme = currentTheme === "dark" ? "light" : "dark";
            setTheme(currentTheme);
        });
    });
</script>
                    </ul>
                </div>
            </div>
        </nav>

        
  <header class="feature-image">
  <div class="feature-image-text white-shadow-text">
    <h1 class="font-weight:bold">Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - read()ã€write() èˆ‡ page cache</h1>
  </div>
</header>


        <div class="container main my-4">
            
  <div class="post p-3 p-sm-5">
    <h3 class="post-title">Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - read()ã€write() èˆ‡ page cache</h3>
    <div class="mt-2 mb-3">
    <small>
        <strong>By Lin Chieh (Jayce)</strong>
        | <i class="far fa-calendar-alt"></i>&nbsp;Jan 1, 2019&nbsp;
        | <i class="fa fa-tags" title="Tags" aria-hidden="true"></i> <a href='/tags/c/c&#43;&#43;/'>C/C&#43;&#43;</a>, <a href='/tags/linux-kernel/'>Linux Kernel</a>
    </small>
</div>

    <div class="mt-4 mb-4 main-content">
      <p>ã€€ã€€é€™ç¯‡å»¶çºŒ <a href="https://blog.jaycetyle.com/2018/12/linux-fd-open-close/">Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - fd åŠ open()ã€close() ç³»çµ±å‘¼å«</a>ï¼Œç­†è¨˜ read()ã€write() ç³»çµ±å‘¼å«åŠ page cache ç›¸é—œçš„éƒ¨åˆ†ã€‚å…§å®¹ä¸»è¦åƒè€ƒ <a href="https://www.tenlong.com.tw/products/9789862769812">Robert Love çš„ Linux System Programming</a> ä¸€æ›¸ã€‚</p>
<h2 id="read-ç³»çµ±å‘¼å«">read() ç³»çµ±å‘¼å«</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;unistd.h&gt;</span><span style="color:#e5e5e5">
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5"></span>
</span></span><span style="display:flex;"><span><span style="color:#ee82ee">ssize_t</span> <span style="color:#ff0">read</span>(<span style="color:#ee82ee">int</span> fd, <span style="color:#ee82ee">void</span> *buf, <span style="color:#ee82ee">size_t</span> len);</span></span></code></pre></div>
<p>ã€€ã€€read() ç³»çµ±å‘¼å«æœƒå¾ fd æ‰€åƒç…§æª”æ¡ˆçš„ç•¶å‰ä½ç½®è®€å– len å€‹ä½å…ƒçµ„åˆ° bufï¼ŒåŸ·è¡ŒæˆåŠŸæ™‚æœƒå›å‚³å¯«é€² buf çš„ä½å…ƒçµ„æ•¸ï¼ŒåŒæ™‚æª”æ¡ˆä½ç½®ä¹Ÿæœƒå‰é€²æ‰€è®€å–çš„ä½å…ƒçµ„æ•¸ï¼ŒåŸ·è¡Œå¤±æ•—æ™‚æœƒå›å‚³ -1 ä¸¦è¨­å®š errnoã€‚</p>
<p>ã€€ã€€é›–ç„¶ read() æ˜¯ä¸€å€‹ç°¡å–®çš„ç³»çµ±å‘¼å«ï¼Œä½†è¦æ°ç•¶åœ°é€²è¡ŒéŒ¯èª¤è™•ç†å…¶å¯¦ä¹Ÿæ˜¯ç›¸ç•¶è¤‡é›œçš„ï¼Œæ ¹æ“šä¸åŒçš„ç‹€æ³ï¼Œå¤§è‡´ä¸Šæœ‰ä»¥ä¸‹å¹¾ç¨®å›å‚³çµæœ:</p>
<ul>
<li>å›å‚³å€¼ç­‰æ–¼ len: é€™æ˜¯é æœŸçš„æ­£ç¢ºçµæœ</li>
<li>å›å‚³å€¼ç­‰æ–¼ 0: è¡¨ç¤ºåˆ°äº†æª”æ¡ˆæœ«ç«¯ (EOF)ï¼Œæ²’æœ‰è³‡æ–™å¯ä»¥è®€å–</li>
<li>å›å‚³å€¼å°æ–¼ 0: ä¸€èˆ¬ä»£è¡¨ç™¼ç”ŸéŒ¯èª¤ï¼Œæœ‰ä»¥ä¸‹å¹¾ç¨®å¯èƒ½:
<ul>
<li>errno = EINTRã€‚è¡¨ç¤ºåœ¨è®€å–éç¨‹ä¸­æ”¶åˆ°çš„ä¿¡è™Ÿï¼Œå¯ä»¥å˜—è©¦å†è®€å–ä¸€æ¬¡</li>
<li>errno = EAGAINã€‚åœ¨ O_NONBLOCK æ¨¡å¼ä¸‹æ‰æœƒæœ‰çš„æƒ…æ³ï¼Œè¡¨ç¤ºé‚„æ²’æœ‰è³‡æ–™å¯ä»¥è®€å–ï¼Œå¯ä»¥ç­‰å€™ä¸€æ®µæ™‚é–“å¾Œå†å˜—è©¦ä¸€æ¬¡</li>
<li>å…¶ä»–çš„ errnoã€‚å¯èƒ½æ˜¯åš´é‡çš„éŒ¯èª¤ï¼Œé‡è©¦ä¸ä¸€å®šæœ‰ç”¨</li>
</ul>
</li>
<li>å›å‚³å€¼å¤§æ–¼ 0 ä½†å°æ–¼ len: å¯èƒ½æ˜¯ä»¥ä¸‹ä¸‰ç¨®æƒ…æ³ä¹‹ä¸€ï¼Œå†å˜—è©¦è®€å–ä¸€æ¬¡é€šå¸¸å°±å¯ä»¥æ‰¾åˆ°çœŸæ­£åŸå› :
<ul>
<li>è®€å–éç¨‹ä¸­æ”¶åˆ°ä¿¡è™Ÿä¸­æ–·</li>
<li>è®€å–éç¨‹ä¸­ç™¼ç”ŸéŒ¯èª¤</li>
<li>å¯è®€å–çš„å¤§å°ä¸è¶³ len æˆ–ä»¥åˆ°é” EOF</li>
</ul>
</li>
</ul>
<p>ã€€ã€€EINTR æ˜¯æ¯”è¼ƒå¸¸è¢«å¿½è¦–çš„ï¼Œä»–ç®—æ˜¯é«˜æ©Ÿæœƒå¯å›å¾©çš„éŒ¯èª¤ï¼Œå¦‚æœç¨‹å¼æœƒå°ä¿¡è™Ÿé€²è¡Œè™•ç†çš„è©±ï¼Œæ‡‰è©²æ˜¯éœ€è¦è¢«è€ƒæ…®è™•ç†çš„éŒ¯èª¤ã€‚</p>
<p>ã€€</p>
<h2 id="write-ç³»çµ±å‘¼å«">write() ç³»çµ±å‘¼å«</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;unistd.h&gt;</span><span style="color:#e5e5e5">
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5"></span>
</span></span><span style="display:flex;"><span><span style="color:#ee82ee">ssize_t</span> <span style="color:#ff0">write</span>(<span style="color:#ee82ee">int</span> fd, <span style="color:#f00">const</span> <span style="color:#ee82ee">void</span> *buf, <span style="color:#ee82ee">size_t</span> count);</span></span></code></pre></div>
<p>ã€€ã€€write() ç³»çµ±å‘¼å«æœƒå¾ buf ä¸­æŠŠ count ä½å…ƒçµ„çš„è³‡æ–™å¯«å…¥ fd æ‰€åƒç…§æª”æ¡ˆçš„ç•¶å‰ä½ç½®ï¼ŒåŸ·è¡ŒæˆåŠŸæ™‚æœƒå›å‚³å¯«é€²å…¥æª”æ¡ˆçš„ä½å…ƒçµ„æ•¸ï¼Œæª”æ¡ˆä½ç½®ä¹Ÿæœƒå‰é€²å¯«å…¥çš„ä½å…ƒçµ„æ•¸ï¼ŒåŸ·è¡Œå¤±æ•—æ™‚æœƒå›å‚³ -1 ä¸¦è¨­å®š errnoã€‚write() ä¸åƒ read() æœƒé‡åˆ° EOFï¼Œæ¯”è¼ƒä¸å®¹æ˜“ç™¼ç”Ÿå›å‚³å€¼ä¸ç­‰æ–¼ countï¼Œä½†å¦‚æœ write çš„å°è±¡æ˜¯ socket çš„è©±ï¼Œå°±ä»ç„¶è¦è™•ç†åªæœ‰éƒ¨åˆ†å¯«å…¥çš„æƒ…æ³ (å›å‚³å°æ–¼ count ä½†å¤§æ–¼ç­‰æ–¼ 0)ã€‚</p>
<p>ã€€</p>
<h2 id="lseek-ç³»çµ±å‘¼å«">lseek() ç³»çµ±å‘¼å«</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;sys/types.h&gt;</span><span style="color:#e5e5e5">
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;unistd.h&gt;</span><span style="color:#e5e5e5">
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5"></span>
</span></span><span style="display:flex;"><span><span style="color:#ee82ee">off_t</span> <span style="color:#ff0">lseek</span>(<span style="color:#ee82ee">int</span> fd, <span style="color:#ee82ee">off_t</span> pos, <span style="color:#ee82ee">int</span> origin);</span></span></code></pre></div>
<p>ã€€ã€€lseek() ç³»çµ±å‘¼å«ç”¨ä¾†è¨­å®šæª”æ¡ˆçš„ç•¶å‰ä½ç½®ï¼Œæœ¬èº«ä¸æœƒç”¢ç”Ÿä»»ä½• IOï¼ŒæˆåŠŸæ™‚æœƒå›å‚³æª”æ¡ˆçš„ç•¶å‰ä½ç½®ï¼Œå¤±æ•—æ™‚å›å‚³ -1 ä¸¦è¨­å®š errnã€‚lseek() çš„ pos å¯ä»¥æ˜¯æ­£ã€è² æˆ–æ˜¯é›¶ï¼Œå¯¦éš›çš„è¡Œç‚ºå–æ±ºæ–¼ originï¼Œå¯ä»¥æ˜¯ä»¥ä¸‹å¹¾ç¨®çš„å…¶ä¸­ä¸€å€‹:</p>
<ul>
<li>SEEK_CUR: ä½ç½®è¨­å®šç‚ºç•¶å‰ä½ç½®åŠ ä¸Š pos
<ul>
<li>pos æ˜¯é›¶æ™‚å¯ä»¥ç”¨ä¾†æŸ¥è©¢ç›®å‰æª”æ¡ˆä½ç½®</li>
</ul>
</li>
<li>SEEK_END: ä½ç½®è¨­å®šç‚ºç•¶å‰çš„é•·åº¦å†åŠ ä¸Š posï¼Œä¹Ÿå°±æ˜¯å¾çµå°¾é–‹å§‹ç®—çš„æ„æ€
<ul>
<li>pos æ˜¯é›¶æ™‚å¯ä»¥æŠŠç•¶å‰ä½ç½®è¨­ç‚ºæª”æ¡ˆçµå°¾</li>
</ul>
</li>
<li>SEEK_SET: ä½ç½®è¨­å®šç‚º posï¼Œä¹Ÿå°±æ˜¯å¾é–‹é ­é–‹å§‹ç®—çš„æ„æ€
<ul>
<li>pos æ˜¯é›¶æ™‚å¯ä»¥æŠŠç•¶å‰ä½ç½®è¨­ç‚ºæª”æ¡ˆé–‹é ­</li>
</ul>
</li>
</ul>
<p>ã€€ã€€lseek() ä¹Ÿå¯ä»¥æŠŠæª”æ¡ˆç•¶å‰ä½ç½®è¨­å®šåˆ°æª”æ¡ˆçµå°¾ä»¥å¾Œã€‚æ­¤æ™‚å¦‚æœé€²è¡Œè®€å–çš„è©±ï¼Œæœƒå›å‚³ EOFï¼Œè‹¥é€²è¡Œå¯«å…¥çš„è©±ï¼Œä¸­é–“è¢«è·³éçš„éƒ¨åˆ†æœƒä»¥ hole çš„å½¢å¼å¡«è£œæˆ 0 è€Œè®Šæˆ sparse fileã€‚</p>
<p>ã€€ã€€å¦å¤– Linux é‚„æœ‰æä¾›äº†çµåˆ read()ã€write() åŠ lssek() çš„è®Šé«”ï¼Œä»–å€‘æœƒå¾ pos çš„ä½ç½®åšè®€å–æˆ–å¯«å…¥ï¼Œä¸”å®Œæˆå¾Œ<strong>ä¸æœƒ</strong>æ›´å‹•æª”æ¡ˆçš„ç›®å‰ä½ç½®ï¼Œä¸”ä»–ä¹Ÿå¯ä»¥é¿å…å¤šåŸ·è¡Œç·’æƒ…å¢ƒä¸‹å…ˆåš lseek() å†åš read()ã€write() å¯èƒ½çš„ race æƒ…æ³ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5e5e5">#define _XOPEN_SOURCE 500
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;unistd.h&gt;</span><span style="color:#e5e5e5">
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5"></span>
</span></span><span style="display:flex;"><span><span style="color:#ee82ee">ssize_t</span> <span style="color:#ff0">pread</span>(<span style="color:#ee82ee">int</span> fd, <span style="color:#ee82ee">void</span> *buf, <span style="color:#ee82ee">size_t</span> count);
</span></span><span style="display:flex;"><span><span style="color:#ee82ee">ssize_t</span> <span style="color:#ff0">pwrite</span>(<span style="color:#ee82ee">int</span> fd, <span style="color:#f00">const</span> <span style="color:#ee82ee">void</span> *buf, <span style="color:#ee82ee">size_t</span> count);</span></span></code></pre></div>
<p>ã€€</p>
<h2 id="æ·ºè«‡-page-cache">æ·ºè«‡ Page Cache</h2>
<p>ã€€ã€€Page cache é€™æ±è¥¿æˆ‘ä¸€ç›´éƒ½æ˜¯çŸ¥é“ä½†ç†è§£å¾ˆæ·ºï¼Œé€™è£¡ä¸»è¦æ•´ç†è®€åˆ°çš„ç›¸é—œè³‡æ–™ï¼Œä¹‹å¾Œæœƒå†æ‰¾å€‹æ™‚é–“å»æ·±å…¥ç ”ç©¶æ ¸å¿ƒçš„ç¨‹å¼ç¢¼ã€‚</p>
<p>ã€€ã€€Page cache ç”¨ä¾†æš«å­˜å¾ç£ç¢Ÿä¸Šè®€èµ·ä¾†çš„æª”æ¡ˆç³»çµ±è³‡æ–™ï¼Œç”±æ–¼ä¸€èˆ¬ç¡¬ç¢Ÿå­˜å–é€Ÿåº¦é ä½æ–¼è¨˜æ†¶é«”å­˜å–é€Ÿåº¦ï¼Œå› æ­¤å°‡è³‡æ–™æš«å­˜åœ¨è¨˜æ†¶é«”æ˜¯éå¸¸å€¼å¾—çš„ã€‚åœ¨å°‹æ‰¾æª”æ¡ˆç³»çµ±è³‡æ–™æ™‚ï¼Œæ ¸å¿ƒå¯¦éš›ä¸Šä¹Ÿæ˜¯å…ˆå¾ Page cache å°‹æ‰¾ï¼Œå¦‚æœä¸åœ¨ cache ä¸­ï¼Œæ‰æœƒå¾ç£ç¢Ÿä¸­å°‡è³‡æ–™è®€å–ä¸Šä¾†ã€‚å¯«å…¥çš„æƒ…æ³ä¹Ÿæ˜¯ï¼Œç•¶å‘¼å« write() ç³»çµ±å‘¼å«æ™‚ï¼Œæ ¸å¿ƒæŠŠè³‡æ–™è¤‡è£½åˆ° page cache ä¸­ä»¥å¾Œå°±å·²ç¶“è¿”å›äº†ï¼Œè€Œé€™äº›è’é›†åˆ° cache ä¸­çš„è³‡æ–™æœƒè¢«æ¨™è¨˜æˆ dirtyï¼Œåœ¨ä¹‹å¾Œç”±èƒŒæ™¯çš„ flusher æ ¸å¿ƒåŸ·è¡Œç·’å°‡å…¶å¯«å› (writeback) è‡³ç£ç¢Ÿä¸­ã€‚</p>
<p>ã€€ã€€å’Œ page cache ç›¸é—œçš„åƒæ•¸å¸¸è¦‹çš„æœ‰ä»¥ä¸‹å¹¾å€‹ï¼Œä½æ–¼ /proc/sys/vm/ ç›®éŒ„åº•ä¸‹ï¼Œé€™äº›åƒæ•¸å°æ–¼ IO æ•ˆèƒ½åŠç©©å®šæ€§ç­‰æœƒæœ‰ä¸å°çš„å½±éŸ¿ã€‚</p>
<ul>
<li>dirty_background_ratio: ç•¶ dirty page ä½”ç”¨åˆ°è¨˜æ†¶é«”çš„å¤šå°‘ç™¾åˆ†æ¯”æ™‚ï¼Œæ ¸å¿ƒæœƒé–‹å§‹è§¸ç™¼èƒŒæ™¯å¯«å›</li>
<li>dirty_background_bytes: dirty_background_ratio ä»¥ bytes ç‚ºè¨ˆç®—æ–¹å¼çš„ç‰ˆæœ¬ï¼Œå…©è€…åªèƒ½æŒ‡å®šå…¶ä¸­ä¸€å€‹</li>
<li>dirty_ratio: ç•¶ dirty page ä½”ç”¨åˆ°è¨˜æ†¶é«”çš„å¤šå°‘ç™¾åˆ†æ¯”æ™‚ï¼Œå¯«å…¥çš„ IO æœƒé–‹å§‹é­åˆ°é˜»æ“‹</li>
<li>dirty_bytes: dirty_ratio ä»¥ bytes ç‚ºè¨ˆç®—æ–¹å¼çš„ç‰ˆæœ¬ï¼Œå…©è€…åªèƒ½æŒ‡å®šå…¶ä¸­ä¸€å€‹</li>
<li>dirty_writeback_centisecs: flusher æœƒé€±æœŸæ€§çš„è¢«å–šé†’åŸ·è¡Œï¼Œæ­¤ç‚ºå–šé†’é–“éš”ï¼Œå–®ä½ç‚ºç™¾åˆ†ä¹‹ä¸€ç§’</li>
<li>dirty_expire_centisecs: dirty page è¶…éè©²æ™‚é–“å¾Œï¼Œflusher è¢«å–šé†’å¾Œå°±æœƒå°‡å…¶å¯«å›ï¼Œå–®ä½ç‚ºç™¾åˆ†ä¹‹ä¸€ç§’</li>
<li>swappiness: ç•¶è¨˜æ†¶é«”ä¸è¶³æ™‚ï¼Œæ ¸å¿ƒå‚¾å‘é¸æ“‡å°‡è³‡æ–™æ¬ç§»åˆ° swap é‚„æ˜¯æ”¾æ£„ page cache
<ul>
<li>åˆæ³•ç¯„åœæ˜¯ 0 ~ 100ï¼Œé è¨­å€¼ç‚º 60</li>
<li>è¶Šé«˜ä»£è¡¨è¶Šå‚¾å‘ä¿ç•™ page cacheï¼Œä¹Ÿå°±æ˜¯è¶Šå®¹æ˜“é€²è¡Œ swap</li>
<li>è¶Šå°å‰‡æ˜¯è¶Šå®¹æ˜“é€²è¡Œ swapï¼Œè€Œè¶Šå‚¾å‘æ”¾æ£„ page cache</li>
</ul>
</li>
</ul>
<p>ã€€ã€€Page cache åœ¨ä¸€èˆ¬è®€å¯«æƒ…æ³ä¸‹éƒ½å¯ä»¥é‹ä½œè‰¯å¥½ï¼Œä½†æœ‰å¹¾å€‹æƒ…å¢ƒæœƒå—åˆ°å½±éŸ¿ã€‚é¦–å…ˆæ˜¯ç³»çµ±ç•¶æ‰æˆ–æ˜¯ç•°å¸¸æ–·é›»ï¼Œç”±æ–¼ dirty page é‚„åœ¨è¨˜æ†¶é«”ä¸­å°šæœªå¯«å…¥åˆ°ç£ç¢Ÿçš„é—œä¿‚ï¼Œç•¶ç³»çµ±ç•°å¸¸æ–·é›»æ™‚ï¼Œè³‡æ–™å°±éš¨è‘—é›»åŠ›ä¸­æ–·è€Œæ®ç™¼ã€‚å¦å¤–ä¸€ç¨®æƒ…æ³æ˜¯ç„¡æ³•å®‰æ’å¯«å…¥é †åºï¼Œæ‡‰ç”¨ç¨‹å¼å¯èƒ½æœƒæœ‰å®‰æ’çš„å¯«å…¥é †åºï¼Œä½†è³‡æ–™é€²å…¥åˆ° cache å¾Œï¼Œæ ¸å¿ƒæœƒæ ¹æ“šæ•ˆèƒ½è€ƒé‡ç­‰å› ç´ é‡æ–°å®‰æ’å¯«å…¥ç£ç¢Ÿçš„é †åºï¼Œé€™åœ¨ä¸€èˆ¬æ‡‰ç”¨ä¸æœƒå—åˆ°å½±éŸ¿ï¼Œä½†æŸäº›è³‡æ–™åº«ç³»çµ±å¯èƒ½æœƒç‚ºäº†é¿å…è³‡æ–™æœ‰ä¸ä¸€è‡´çš„ç‹€æ…‹ï¼ŒæœƒæœŸæœ›è³‡æ–™åœ¨æŸäº›æ™‚é–“èƒ½æŒ‰ç…§æŸäº›é †åºå¯«å…¥ç£ç¢Ÿã€‚é€™äº›æƒ…æ³å°±æœƒéœ€è¦ä½¿ç”¨ fsync() ç­‰åŒæ­¥ IO æ©Ÿåˆ¶ã€‚</p>
<p>ã€€</p>
<h2 id="fsyncfdatasync-åŠ-sync-ç³»çµ±å‘¼å«">fsync()ã€fdatasync() åŠ sync() ç³»çµ±å‘¼å«</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;unistd.h&gt;</span><span style="color:#e5e5e5">
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5"></span>
</span></span><span style="display:flex;"><span><span style="color:#ee82ee">int</span> <span style="color:#ff0">fsync</span>(<span style="color:#ee82ee">int</span> fd);
</span></span><span style="display:flex;"><span><span style="color:#ee82ee">int</span> <span style="color:#ff0">fdatasync</span>(<span style="color:#ee82ee">int</span> fd);
</span></span><span style="display:flex;"><span><span style="color:#ee82ee">void</span> <span style="color:#ff0">sync</span>();</span></span></code></pre></div>
<p>ã€€ã€€fsync() æœƒç¢ºä¿ fd æ‰€æ˜ å°„çš„æª”æ¡ˆæ‰€æœ‰ dirty çš„è³‡æ–™åŠ metadata (ä¸­ç¹¼è³‡æ–™ï¼Œå¦‚ indoe åŒ…å«çš„æ™‚é–“æˆ³ç­‰å±¬æ€§) å¯«å›åˆ°ç£ç¢Ÿä¸­ã€‚è€Œ fdatasync() å‰‡æœƒå¯«å› dirty çš„è³‡æ–™åŠå¿…è¦çš„ä¸­ç¹¼è³‡æ–™ï¼Œfdatasync() ä¸ä¿è­‰éå¿…è¦çš„ä¸­ç¹¼è³‡æ–™æœƒå¯«å›åˆ°ç£ç¢Ÿï¼Œå› æ­¤é€Ÿåº¦å¯èƒ½æœƒæ¯”è¼ƒå¿«ã€‚é€™å…©å€‹å‡½å¼æˆåŠŸæ™‚æœƒè¿”å› 0ï¼Œå¤±æ•—æ™‚è¿”å› -1 ä¸¦è¨­å®š errnoã€‚</p>
<p>ã€€ã€€å„˜ç®¡æ ¸å¿ƒå·²ç¶“è¦æ±‚å°‡è³‡æ–™å¯«å›åˆ°ç£ç¢Ÿä¸­ï¼Œä¸”ç£ç¢Ÿä¹Ÿå›å ±è³‡æ–™å·²ç¶“å¯«å›ï¼Œä½†ç¾ä»Šè¨±å¤šçš„ç¡¬ç¢Ÿä¹Ÿéƒ½å«æœ‰è‡ªå·±çš„å¯«å…¥å¿«å–ï¼Œå› æ­¤ä¹Ÿä¸ä¸€å®šçœŸæ­£ä¿è­‰è³‡æ–™å·²ç¶“å®Œå…¨å¯«å…¥åˆ°ç£ç¢Ÿã€‚å¦å¤–é€™é€™å…©å€‹å‡½å¼åªèƒ½ä¿è­‰è©²æª”æ¡ˆçš„å…§å®¹å·²ç¶“èˆ‡ç£ç¢ŸåŒæ­¥ï¼Œä½†ä¸åŒ…å«æ‰€å±¬æª”æ¡ˆçš„ç›®éŒ„ï¼Œå› æ­¤å¦‚æœæ“ä½œæœ‰æ¶‰åŠåˆ°ç›®éŒ„çš„è©±ï¼Œé‚„å¿…é ˆé€£åŒç›®éŒ„æœ¬èº«çš„ fd èª¿ç”¨ fsync() æ‰èƒ½ä¿è­‰ç•°å‹•éƒ½å¯«å›ç£ç¢Ÿã€‚</p>
<p>ã€€ã€€sync() ç³»çµ±å‘¼å«æ²’æœ‰åƒæ•¸ä¹Ÿæ²’æœ‰å›å‚³å€¼ï¼Œä»–æœƒå°‡æ‰€æœ‰çš„ cache è³‡æ–™éƒ½å¯«å›åˆ°ç£ç¢Ÿã€‚æ¨™æº–ä¸¦æ²’æœ‰è¦æ±‚ sync() ä¸€å®šè¦å…¨éƒ¨éƒ½å¯«å›å¾Œæ‰è¿”å›ï¼Œä½† Linux æœƒç­‰åˆ°æ‰€æœ‰ç·©è¡å€éƒ½å¯«å›æ‰è¿”å›ã€‚ä¸€èˆ¬ä¸æœƒå»ºè­°ä½¿ç”¨ sync()ï¼Œå› ç‚ºåœ¨å¿™ç¢Œçš„ç³»çµ±ä¸Šï¼Œsync() æœ‰å¯èƒ½æœƒéœ€è¦æ•¸åˆ†é˜ä»¥ä¸Šçš„æ™‚é–“æ‰èƒ½å®Œæˆã€‚</p>
<p>ã€€</p>
<h2 id="o_synco_dsync-åŠ-o_rsync">O_SYNCã€O_DSYNC åŠ O_RSYNC</h2>
<p>ã€€ã€€å¦‚æœåœ¨ open() æ™‚æœ‰å¸¶ O_SYNC æ——æ¨™çš„è©±ï¼Œå‰‡è©² fd æ‰€æœ‰çš„ write() éƒ½æœƒé€²è¡ŒåŒæ­¥ï¼Œç­‰æ•ˆæ–¼æ‰€æœ‰çš„ write() è¿”å›å‰éƒ½å†è‡ªå‹•å‘¼å« fsync()ã€‚O_DSYNC æ˜¯ O_SYNC çš„ fdatasync() ç‰ˆæœ¬ã€‚ O_RSYNC ç›®å‰è¢«å®šç¾©æˆç­‰åƒ¹æ–¼ O_SYNCï¼Œä»–çš„è¦ç¯„è¦æ±‚æ˜¯è®€å–æ™‚ä¹Ÿå¿…é ˆé€²è¡ŒåŒæ­¥ï¼Œä¾‹å¦‚è®€å–æ™‚å¯èƒ½æœƒæ›´æ–°è³‡æ–™çš„ access timeï¼Œåœ¨ read() è¿”å›å‰ä¹Ÿå¿…é ˆåŒæ­¥åˆ°ç£ç¢Ÿï¼Œä¸éå¦‚å…ˆå‰æ‰€è¿°ï¼Œä»–ç›®å‰åœ¨ Linux ä¸¦ç„¡å¯¦ä½œã€‚</p>
<p>ã€€</p>
<h2 id="buffered-io">Buffered IO</h2>
<p>ã€€ã€€æ¨™æº–IOå‡½å¼åº« (stdio) é‚„å¯¦ä½œäº†ä¸€ç³»åˆ— fopenã€fread()åŠfwrite()ç­‰å‡½å¼ï¼Œèˆ‡ read()ã€write() ç­‰ç³»çµ±å‘¼å«æœ€ä¸»è¦çš„å·®ç•°æ˜¯ï¼Œstdio åœ¨ Userspace å¯¦ä½œäº†ä¸€å±¤ bufferã€‚å¯¦ä½œ buffer çš„ä¸»è¦åŸå› æ˜¯ read()ã€write() ç³»çµ±å‘¼å«åœ¨é‹ä½œæ™‚æœƒéœ€è¦å°é½Š block sizeï¼Œå°æ–¼å°æ–¼ä¸€å€‹ block size çš„å‘¼å«ï¼Œæ ¸å¿ƒä»ç„¶æœƒä»¥ä¸€å€‹ block size ç‚ºå–®ä½é€²è¡Œè™•ç†ï¼Œå°æ–¼è¼ƒå°ä¸”æœªå°é½Šçš„è³‡æ–™æ•ˆèƒ½æœƒæœ‰å½±éŸ¿ï¼Œä¹Ÿæœƒå¢åŠ ä¸å°‘ç³»çµ±å‘¼å«çš„æ¬¡æ•¸ã€‚</p>
<p>ã€€ã€€æ¨™æº–IOå‡½å¼åº«çš„ç·©è¡å‹å¼å¯ä»¥åœ¨ fopen() å‘¼å«ä¹‹å¾Œï¼Œé€²è¡Œå…¶ä»–æ“ä½œä¹‹å‰ï¼Œä½¿ç”¨ setvbuf() å‡½å¼ä¾†é€²è¡Œè¨­å®šï¼Œå¯ä»¥æ˜¯ä»¥ä¸‹ä¸‰ç¨®çš„å…¶ä¸­ä¸€ç¨®:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#e5e5e5">#include</span> <span style="color:#e5e5e5">&lt;stdio&gt;.h&gt;</span><span style="color:#e5e5e5">
</span></span></span><span style="display:flex;"><span><span style="color:#e5e5e5"></span>
</span></span><span style="display:flex;"><span><span style="color:#ee82ee">int</span> <span style="color:#ff0">setvbuf</span>(FILE *stream, <span style="color:#ee82ee">char</span> *buf, <span style="color:#ee82ee">int</span> mode, <span style="color:#ee82ee">size_t</span> size);</span></span></code></pre></div>
<ul>
<li>_IONBF: ç„¡ç·©è¡</li>
<li>_IOLBF: ä»¥ line ç‚ºå–®ä½åšç·©è¡ï¼Œé‡åˆ° \n å­—å…ƒå°±æœƒæäº¤çµ¦æ ¸å¿ƒï¼Œå¯æ‡‰ç”¨æ–¼çµ‚ç«¯æ©Ÿï¼Œå¦‚ stdout</li>
<li>_IOFBF: ä»¥ buf åšç‚ºç·©è¡å€é€²è¡Œç·©è¡ï¼Œå¤§å°ç‚º sizeã€‚è‹¥ buf ç‚º NULLï¼Œå‰‡æœƒæ ¹æ“š size è‡ªå‹•é…ç½®ä¸€å€‹</li>
</ul>
<p>ã€€ã€€å¦å¤–é‚„æœ‰ä¸€å€‹ setbuf() å‡½å¼ï¼Œä»–ç­‰åƒ¹æ–¼ setvbuf(stream, buf, buf ? _IOFBF : _IONBF, BUFSIZE)ã€‚</p>
<p>ã€€ã€€ä¸‹åœ–å¾ˆæ¸…æ¥šåœ°èªªæ˜äº† User space buffer åŠ Kernel buffer cache (page cache) ä¹‹é–“çš„é—œä¿‚ (åŸå§‹å‡ºè™•æ‡‰è©²æ˜¯ Linux Programming Interface ä¸€æ›¸)</p>
<figure class="center">
<img src="/images/2019/01/two-flush.png" alt="">
</figure>
<p>ã€€</p>
<h2 id="åƒè€ƒè³‡æ–™">åƒè€ƒè³‡æ–™</h2>
<p><a href="https://www.tenlong.com.tw/products/9789862769812">Robert Love. Linux System Programming</a></p>

      <div class="share-icons d-flex justify-content-center d-print-none">
        <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fblog.jaycetyle.com%2f2019%2f01%2flinux-read-write%2f&text=Linux%20%e7%b3%bb%e7%b5%b1%e7%a8%8b%e5%bc%8f%e8%a8%ad%e8%a8%88%20-%20read%28%29%e3%80%81write%28%29%20%e8%88%87%20page%20cache&tw_p=tweetbutton" class="p-2" title="Share on Twitter" target="_blank" rel="nofollow">
    <div>
        <span class="fa-stack">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
        </span>
    </div>
    <div class="fa-inverse text-center"><small>Tweet</small></div>
</a>

<a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fblog.jaycetyle.com%2f2019%2f01%2flinux-read-write%2f&t=Linux%20%e7%b3%bb%e7%b5%b1%e7%a8%8b%e5%bc%8f%e8%a8%ad%e8%a8%88%20-%20read%28%29%e3%80%81write%28%29%20%e8%88%87%20page%20cache" class="p-2" title="Share on Facebook" target="_blank" rel="nofollow">
    <div>
        <span class="fa-stack">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-facebook fa-stack-1x fa-inverse"></i>
        </span>
    </div>
    <div class="fa-inverse text-center"><small>Share</small></div>
</a>

<a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fblog.jaycetyle.com%2f2019%2f01%2flinux-read-write%2f&title=Linux%20%e7%b3%bb%e7%b5%b1%e7%a8%8b%e5%bc%8f%e8%a8%ad%e8%a8%88%20-%20read%28%29%e3%80%81write%28%29%20%e8%88%87%20page%20cache&source=mattbutton.com" class="p-2" title="Share on LinkedIn" target="_blank" rel="nofollow">
    <div>
        <span class="fa-stack">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
        </span>
    </div>
    <div class="fa-inverse text-center"><small>Share</small></div>
</a>

<a href="javascript:window.print()" title="Print this article" class="p-2" target="_blank" rel="nofollow">
    <div>
        <span class="fa-stack">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fa fa-print fa-stack-1x fa-inverse"></i>
        </span>
    </div>
    <div class="fa-inverse text-center"><small>Print</small></div>
</a>
      </div>
    </div>

    

<h4>ç›¸é—œæ–‡ç« æ¨è–¦</h4>
<ul>
	
	<li><a href="/2018/12/linux-fd-open-close/">Linux ç³»çµ±ç¨‹å¼è¨­è¨ˆ - fd åŠ open()ã€close() ç³»çµ±å‘¼å«</a></li>
	
	<li><a href="/2018/10/vscode-gnu-global/">VS Code &#43; GNU Global - æ‰“é€  Trace Linux Kernel ç’°å¢ƒ</a></li>
	
</ul>

    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "jaycetyle" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
  <div class="sidebar d-print-none d-none d-xl-block">
  <h5 class="mt-4 post-title">Recent Posts</h5>
  <ul class="mt-2 pl-4">
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2021/10/linux-fio-tips/">Linux fio æ¸¬è©¦åƒæ•¸çš„çœ‰çœ‰è§’è§’</a></li>
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2021/10/kprobe-userspace-tool/">Kprobe Userspace Tool ä½¿ç”¨ç­†è¨˜</a></li>
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2019/12/linux-bug-on-case-study/">Linux Kernel BUG_ON å‚¾å°è¨Šæ¯åˆ†æåŠæ¡ˆä¾‹åˆ†äº«</a></li>
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2019/11/passing-smart-pointer/">[C&#43;&#43;] å¹¾ç¨®åœ¨å‡½æ•¸å‚³é Smart Pointer çš„æ–¹å¼æ•´ç†</a></li>
    
    <li class="mt-2 mb-2"><a href="https://blog.jaycetyle.com/2019/10/jekyll-to-hugo/">å¾ Jekyll é·ç§»åˆ° Hugo æ­¥é©Ÿå¿ƒå¾—åˆ†äº«</a></li>
    
  </ul>
  <h5 class="mt-4 text-capitalize post-title">Tags</h5>
  <ul class="mt-2 pl-4">
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/c/c&#43;&#43;/'>
      C/C&#43;&#43;
      <span class="badge badge-pill badge-secondary">11</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/ubuntu-%E4%BD%9C%E6%A5%AD%E7%B3%BB%E7%B5%B1/'>
      Ubuntu ä½œæ¥­ç³»çµ±
      <span class="badge badge-pill badge-secondary">7</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/linux-kernel/'>
      Linux Kernel
      <span class="badge badge-pill badge-secondary">6</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/%E9%96%8B%E7%99%BC%E7%92%B0%E5%A2%83/'>
      é–‹ç™¼ç’°å¢ƒ
      <span class="badge badge-pill badge-secondary">5</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6/'>
      ç‰ˆæœ¬æ§åˆ¶
      <span class="badge badge-pill badge-secondary">4</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/%E9%96%92%E8%81%8A/'>
      é–’èŠ
      <span class="badge badge-pill badge-secondary">4</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/%E6%A8%B9%E8%8E%93%E6%B4%BE/'>
      æ¨¹è“æ´¾
      <span class="badge badge-pill badge-secondary">3</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/%E7%B6%B2%E7%AB%99%E6%9E%B6%E8%A8%AD/'>
      ç¶²ç«™æ¶è¨­
      <span class="badge badge-pill badge-secondary">3</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/c%23/'>
      C#
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/linux-system-performance/'>
      Linux System Performance
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/nas-%E8%88%87%E8%B3%87%E6%96%99%E5%82%99%E4%BB%BD/'>
      NAS èˆ‡è³‡æ–™å‚™ä»½
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/python/'>
      Python
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
    <li class="mt-2 mb-2">
      <a href='https://blog.jaycetyle.com//tags/%E5%B7%A5%E5%85%B7%E8%BB%9F%E9%AB%94/'>
      å·¥å…·è»Ÿé«”
      <span class="badge badge-pill badge-secondary">1</span>
      </a>
    </li>
    
  </ul>
</div>

        </div>

        <footer class="mt-auto footer d-print-none">
            <div class="container-fluid">
                <div class="d-flex col-xl-12 justify-content-center">
                    <div>Â© 2019<a href="https://blog.jaycetyle.com/about/"> Lin Chieh ( Jayce )</a>. Powered by <a href="https://gohugo.io/">Hugo</a> using <a href='https://www.mattbutton.com'>Matt Button</a>'s <a href='https://github.com/mattbutton/silhouette-hugo'>Silhouette Hugo</a> theme.</div>
                </div>
                </hr>
                <div class="d-flex justify-content-center icons">
                    <a class="py-2 px-2" href="https://www.linkedin.com/in/chieh-lin-569430a9/"><i class="fab fa-linkedin"></i></a>
<a class="py-2 px-2" href="https://github.com/jaycetyle/"><i class="fab fa-github"></i></a>
<a class="py-2 px-2" href='https://blog.jaycetyle.com/index.xml'><i class="fas fa-rss"></i></a>

                </div>
            </div>
        </footer>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

        
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-1ZFSFPEZG5"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-1ZFSFPEZG5');
        }
      </script>
    </body>
</html>
